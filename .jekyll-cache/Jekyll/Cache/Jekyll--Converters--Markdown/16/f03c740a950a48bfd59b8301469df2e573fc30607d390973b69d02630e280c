I"Ì <ul id="markdown-toc">
  <li><a href="#bfc-çš„åˆ›å»º" id="markdown-toc-bfc-çš„åˆ›å»º">BFC çš„åˆ›å»º</a></li>
  <li><a href="#bfc-çš„è§„åˆ™" id="markdown-toc-bfc-çš„è§„åˆ™">BFC çš„è§„åˆ™</a></li>
  <li><a href="#bfc-çš„åº”ç”¨" id="markdown-toc-bfc-çš„åº”ç”¨">BFC çš„åº”ç”¨</a>    <ul>
      <li><a href="#è‡ªé€‚åº”ä¸¤æ ä¸‰æ å¸ƒå±€" id="markdown-toc-è‡ªé€‚åº”ä¸¤æ ä¸‰æ å¸ƒå±€">è‡ªé€‚åº”ä¸¤æ /ä¸‰æ å¸ƒå±€</a></li>
      <li><a href="#æ¸…é™¤å†…éƒ¨æµ®åŠ¨" id="markdown-toc-æ¸…é™¤å†…éƒ¨æµ®åŠ¨">æ¸…é™¤å†…éƒ¨æµ®åŠ¨</a></li>
    </ul>
  </li>
  <li><a href="#é˜²æ­¢å‚ç›´-margin-é‡å " id="markdown-toc-é˜²æ­¢å‚ç›´-margin-é‡å ">é˜²æ­¢å‚ç›´ margin é‡å </a></li>
</ul>

<p>BFC(Block Formatting Context)ï¼Œä¸­æ–‡è¯‘æˆ â€œå—çº§æ ¼å¼ä¸Šä¸‹æ–‡â€ã€‚æ ‡å‡†è§£é‡Š:</p>

<blockquote>
  <p>Floats, absolutely positioned elements, block containers (such as inline-blocks, table-cells, and table-captions) that are not block boxes, and block boxes with â€˜overflowâ€™ other than â€˜visibleâ€™ (except when that value has been propagated to the viewport) establish new block formatting contexts for their contents. â€“ <a href="https://www.w3.org/TR/CSS2/visuren.html#block-formatting">w3c</a></p>
</blockquote>

<p>é¦–å…ˆï¼Œæˆ‘ä»¬è¦ç†è§£ä»€ä¹ˆæ˜¯ <code class="highlighter-rouge">block boxes</code>(å—ç›’å­)ã€‚block boxes å’Œå—çº§å…ƒç´ æ˜¯ä¸ä¸€è‡´çš„ã€‚</p>

<blockquote>
  <p>æ ‡å‡†ä¸­ï¼Œæ˜¯è¿™æ ·é˜è¿°çš„ã€‚æ¯ä¸ª block-level element (å—çº§å…ƒç´ ) äº§ç”Ÿ block-level box (å—çº§ç›’)ã€‚<strong>block-level boxes</strong> æ˜¯å‚ä¸åˆ° BFC çš„ç›’å­ã€‚é™¤äº† table boxesï¼Œblock-level box ä¹Ÿæ˜¯ block container box (å—å®¹å™¨ç›’)ï¼Œblock container box è¦ä¹ˆåŒ…å« block-level boxesï¼Œè¦ä¹ˆåˆ›å»º IFC ä»è€ŒåŒ…å« inline-level boxã€‚å¹¶éæ‰€æœ‰çš„ block container boxes æ˜¯ block-level boxesã€‚<strong>block-level boxesï¼ŒåŒæ—¶ä¹Ÿæ˜¯ block containers çš„å°±æ˜¯ block boxes</strong>ã€‚å¥½ç»•ï¼æ ‡å‡†å°±æ˜¯è¿™ä¹ˆç»•äººçš„ã€‚</p>
</blockquote>

<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬ç†è§£: æµ®åŠ¨çš„ã€ç»å¯¹å®šä½çš„å…ƒç´ å’Œå—å®¹å™¨(æ¯”å¦‚ inline-blocks, table-cells è¿™äº›)éƒ½<strong>ä¸æ˜¯</strong> block boxesï¼Œblock boxes æ˜¯é‚£äº› <code class="highlighter-rouge">overflow</code> ä¸æ˜¯ <code class="highlighter-rouge">visible</code> çš„ï¼Œä¸¤è€…å…±åŒä¸ºå®ƒä»¬çš„å†…å®¹åˆ›å»ºäº†ä¸€ä¸ª BFCã€‚</p>

<blockquote>
  <p>Formatting Context æ˜¯ W3C CSS2.1 è§„èŒƒä¸­çš„ä¸€ä¸ªæ¦‚å¿µå®ƒæ˜¯é¡µé¢ä¸­çš„ä¸€å—æ¸²æŸ“åŒºåŸŸï¼Œå¹¶ä¸”æœ‰ä¸€å¥—æ¸²æŸ“è§„åˆ™ï¼Œå®ƒå†³å®šäº†å…¶å­å…ƒç´ å°†å¦‚ä½•å®šä½ï¼Œä»¥åŠå’Œå…¶ä»–å…ƒç´ çš„å…³ç³»å’Œç›¸äº’ä½œç”¨ã€‚æœ€å¸¸è§çš„ Formatting context æœ‰ BFC å’Œ Inline formatting context (ç®€ç§° IFC)ã€‚CSS3 è¿˜å¢åŠ äº† GFC å’Œ FFCã€‚</p>
</blockquote>

<!-- more -->

<h2 id="bfc-çš„åˆ›å»º">BFC çš„åˆ›å»º</h2>

<p>ä¸è¦è¯¯è®¤ä¸º BFC æ˜¯ block boxes åˆ›å»ºçš„å“¦ã€‚æˆ‘ä»¬å¼€å¤´æ ‡å‡†é‡Œçš„è¿™å¥è¯ï¼Œæ˜¯æœ‰æµ®åŠ¨çš„ã€ç»å¯¹å®šä½çš„å…ƒç´ å’Œå—å®¹å™¨ã€è¿˜æœ‰ block boxes å…±åŒåˆ›å»ºçš„(ä¹Ÿå°±æ˜¯ block-level boxes åˆ›å»ºçš„)ã€‚</p>

<ul>
  <li>æ ¹å…ƒç´ </li>
  <li>float å…ƒç´ (float ä¸ç­‰äº none)</li>
  <li>ç»å¯¹å®šä½å…ƒç´  (position ç­‰äº absolute æˆ–è€… fixed)</li>
  <li>inline-blocks (display: inline-box)</li>
  <li>table-cell (display: table-cell)</li>
  <li>å—çº§å…ƒç´ ï¼Œå…¶ä¸­ overflow ä¸ç­‰äº visible</li>
</ul>

<blockquote>
  <p>æ¥æº: <a href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/CSS/Block_formatting_context">Block formatting context</a> ã€‚</p>
</blockquote>

<hr />

<h2 id="bfc-çš„è§„åˆ™">BFC çš„è§„åˆ™</h2>

<p>æŸ¥é˜…æ ‡å‡†ï¼Œå¯ä»¥æ€»ç»“åˆ°è¿™ä¹ˆå‡ ç‚¹:</p>

<ul>
  <li>å†…éƒ¨çš„ boxes ä¼šåœ¨å‚ç›´æ–¹å‘ä¸Šä¸€ä¸ªä¸€ä¸ªåœ°å æ”¾</li>
  <li>ä¸¤ä¸ªç›¸é‚»å­boxes ä¹‹é—´çš„å‚ç›´è·ç¦»ç”± margin å±æ€§ç¡®å®šã€‚åŒå±ä¸€ä¸ª BFC çš„ç›¸é‚»å­ boxes çš„ margin ä¼šå‘ç”Ÿ collapse</li>
  <li>æ¯ä¸ªå­ boxes çš„ left outer edge (å·¦å¤–ä¾§) æ¥è§¦ å®¹å™¨å—(å°±æ˜¯å¤–å±‚å®¹å™¨) çš„ left edge (å·¦è¾¹ç¼˜)ã€‚å³ä¾¿å­˜åœ¨ float å…ƒç´ ä¹Ÿæ˜¯å¦‚æ­¤ã€‚é™¤éï¼Œå­ boxes å»ºç«‹ä¸€ä¸ªæ–°çš„ BFC</li>
  <li>BFC æ˜¯é¡µé¢ä¸Šä¸€ä¸ªéš”ç¦»çš„å®¹å™¨ï¼Œå®¹å™¨å†…çš„å­å…ƒç´ ä¸ä¼šå½±å“åˆ°å¤–é¢çš„å…ƒç´ ï¼Œåä¹‹ä¹Ÿæˆç«‹</li>
  <li>è®¡ç®— BFC çš„é«˜åº¦æ—¶ï¼Œæµ®åŠ¨å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®—</li>
</ul>

<blockquote>
  <p>ä¸»è¦å…³æ³¨ ç¬¬äºŒæ¡ã€ç¬¬ä¸‰æ¡å’Œç¬¬å››æ¡</p>
</blockquote>

<hr />

<h2 id="bfc-çš„åº”ç”¨">BFC çš„åº”ç”¨</h2>

<h3 id="è‡ªé€‚åº”ä¸¤æ ä¸‰æ å¸ƒå±€">è‡ªé€‚åº”ä¸¤æ /ä¸‰æ å¸ƒå±€</h3>

<p>ä»¥ä¸‰æ å¸ƒå±€ä¸ºä¾‹:</p>

<p data-height="265" data-theme-id="light" data-slug-hash="KvQgKr" data-default-tab="css,result" data-user="maoxiake" data-embed-version="2" data-pen-title="KvQgKr" class="codepen">See the Pen <a href="https://codepen.io/maoxiake/pen/KvQgKr/">KvQgKr</a> by maoxiaoke (<a href="https://codepen.io/maoxiake">@maoxiake</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<script async="" src="https://production-assets.codepen.io/assets/embed/ei.js"></script>

<blockquote>
  <p>æ ¹æ®ç¬¬ä¸‰æ¡ï¼Œå­˜åœ¨ float å…ƒç´ ï¼Œä¸­é—´çš„å…ƒç´ ä»ç„¶æ¥è§¦å¤–å®¹å™¨çš„å·¦è¾¹ç¼˜ã€‚æ³¨æ„åè¾¹é‚£å¥è¯ï¼Œ<em>é™¤éå»ºç«‹ä¸€ä¸ªæ–°çš„ BFC</em>ã€‚</p>
</blockquote>

<p>å¦‚ä½•å»ºç«‹ä¸€ä¸ªæ–°çš„ BFCï¼Œä» BFC çš„åˆ›å»ºçœ‹ï¼Œå¯ä»¥ä½¿ç”¨ <code class="highlighter-rouge">overflow: hidden</code> åˆ›å»ºä¸€ä¸ª block boxesã€‚</p>

<p data-height="265" data-theme-id="light" data-slug-hash="BdYLLx" data-default-tab="css,result" data-user="maoxiake" data-embed-version="2" data-pen-title="BdYLLx" class="codepen">See the Pen <a href="https://codepen.io/maoxiake/pen/BdYLLx/">BdYLLx</a> by maoxiaoke (<a href="https://codepen.io/maoxiake">@maoxiake</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<script async="" src="https://production-assets.codepen.io/assets/embed/ei.js"></script>

<h3 id="æ¸…é™¤å†…éƒ¨æµ®åŠ¨">æ¸…é™¤å†…éƒ¨æµ®åŠ¨</h3>

<p>è¿™å°±æ˜¯ä»¥å‰æˆ‘å¸¸è¯´ <code class="highlighter-rouge">overflow:hidden</code> çš„æ€ªå¼‚ä¹‹å¤„ã€‚</p>

<p data-height="265" data-theme-id="light" data-slug-hash="JypRJR" data-default-tab="css,result" data-user="maoxiake" data-embed-version="2" data-pen-title="JypRJR" class="codepen">See the Pen <a href="https://codepen.io/maoxiake/pen/JypRJR/">JypRJR</a> by maoxiaoke (<a href="https://codepen.io/maoxiake">@maoxiake</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<script async="" src="https://production-assets.codepen.io/assets/embed/ei.js"></script>

<blockquote>
  <p>å­å…ƒç´ ä½¿ç”¨æµ®åŠ¨è„±ç¦»äº†æ–‡æ¡£æµï¼Œæ ¹æ®æœ€åä¸€æ¡ï¼Œæˆ‘ä»¬ç»™çˆ¶å…ƒç´ æ·»åŠ  BFC æ¥åŒ…å« æµ®åŠ¨å…ƒç´ çš„é«˜åº¦ã€‚</p>
</blockquote>

<p data-height="265" data-theme-id="light" data-slug-hash="WEMGEL" data-default-tab="css,result" data-user="maoxiake" data-embed-version="2" data-pen-title="WEMGEL" class="codepen">See the Pen <a href="https://codepen.io/maoxiake/pen/WEMGEL/">WEMGEL</a> by maoxiaoke (<a href="https://codepen.io/maoxiake">@maoxiake</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<script async="" src="https://production-assets.codepen.io/assets/embed/ei.js"></script>

<h2 id="é˜²æ­¢å‚ç›´-margin-é‡å ">é˜²æ­¢å‚ç›´ margin é‡å </h2>

<p data-height="265" data-theme-id="light" data-slug-hash="eEVdym" data-default-tab="css,result" data-user="maoxiake" data-embed-version="2" data-pen-title="eEVdym" class="codepen">See the Pen <a href="https://codepen.io/maoxiake/pen/eEVdym/">eEVdym</a> by maoxiaoke (<a href="https://codepen.io/maoxiake">@maoxiake</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<script async="" src="https://production-assets.codepen.io/assets/embed/ei.js"></script>

<blockquote>
  <p>è¿™æ˜¯å› ä¸º BFC çš„ ç›¸é‚»ä¸¤ä¸ª margin çš„ collapse å¡Œé™·é€ æˆçš„ã€‚(å› ä¸ºæ ¹å…ƒç´ ä¼šåˆ›å»ºä¸€ä¸ª BFC)ã€‚è§£å†³æ–¹æ³•ï¼Œä¸ºå­å…ƒç´ åˆ›å»ºä¸€ä¸ªæ–°çš„ BFCï¼Œåˆ™æ»¡è¶³ å®¹å™¨å†…çš„å­å…ƒç´ ä¸ä¼šå½±å“åˆ°å¤–é¢çš„å…ƒç´ ã€‚</p>
</blockquote>

<p data-height="265" data-theme-id="light" data-slug-hash="vJdXRp" data-default-tab="css,result" data-user="maoxiake" data-embed-version="2" data-pen-title="vJdXRp" class="codepen">See the Pen <a href="https://codepen.io/maoxiake/pen/vJdXRp/">vJdXRp</a> by maoxiaoke (<a href="https://codepen.io/maoxiake">@maoxiake</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<script async="" src="https://production-assets.codepen.io/assets/embed/ei.js"></script>

<p>å‚è€ƒï¼š</p>
<ul>
  <li><a href="http://www.cnblogs.com/lhb25/p/inside-block-formatting-ontext.html">BFC ç¥å¥‡èƒŒåçš„åŸç†</a></li>
  <li><a href="https://www.w3.org/TR/CSS2/visuren.html#block-formatting">Visual formatting model</a></li>
</ul>
:ET