I"¬X<ul id="markdown-toc">
  <li><a href="#æœ€ä½³å®è·µä½¿ç”¨-letconst" id="markdown-toc-æœ€ä½³å®è·µä½¿ç”¨-letconst">æœ€ä½³å®è·µï¼Œä½¿ç”¨ let/const</a>    <ul>
      <li><a href="#å—çº§ä½œç”¨åŸŸçš„ç†è§£" id="markdown-toc-å—çº§ä½œç”¨åŸŸçš„ç†è§£">å—çº§ä½œç”¨åŸŸçš„ç†è§£</a></li>
      <li><a href="#temporal-dead-zone" id="markdown-toc-temporal-dead-zone">temporal dead zone</a></li>
      <li><a href="#ä¸å…è®¸é‡å¤å£°æ˜" id="markdown-toc-ä¸å…è®¸é‡å¤å£°æ˜">ä¸å…è®¸é‡å¤å£°æ˜</a></li>
      <li><a href="#const-ç”¨æ¥å£°æ˜å¯¹è±¡" id="markdown-toc-const-ç”¨æ¥å£°æ˜å¯¹è±¡">const ç”¨æ¥å£°æ˜å¯¹è±¡</a></li>
      <li><a href="#å…¨å±€ä½œç”¨åŸŸä½¿ç”¨-letconst" id="markdown-toc-å…¨å±€ä½œç”¨åŸŸä½¿ç”¨-letconst">å…¨å±€ä½œç”¨åŸŸä½¿ç”¨ let/const</a></li>
      <li><a href="#å¯ä»¥æ›´æ–°çš„å†™æ³•" id="markdown-toc-å¯ä»¥æ›´æ–°çš„å†™æ³•">å¯ä»¥æ›´æ–°çš„å†™æ³•</a>        <ul>
          <li><a href="#ifwhileforforofforin-å¾ªç¯" id="markdown-toc-ifwhileforforofforin-å¾ªç¯">if/while/for/forâ€¦of/forâ€¦in å¾ªç¯</a></li>
          <li><a href="#ä¿æŠ¤ç°åœº" id="markdown-toc-ä¿æŠ¤ç°åœº">ä¿æŠ¤ç°åœº</a></li>
          <li><a href="#forinforof-ä¸­-const-çš„å¼‚å¸¸è¡¨ç°" id="markdown-toc-forinforof-ä¸­-const-çš„å¼‚å¸¸è¡¨ç°">forâ€¦in/forâ€¦of ä¸­ const çš„å¼‚å¸¸è¡¨ç°</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#å‡½æ•°çš„æ€§èƒ½ä¼˜åŒ–" id="markdown-toc-å‡½æ•°çš„æ€§èƒ½ä¼˜åŒ–">å‡½æ•°çš„æ€§èƒ½ä¼˜åŒ–</a>    <ul>
      <li><a href="#æºå¸¦é»˜è®¤å‚æ•°çš„å‡½æ•°" id="markdown-toc-æºå¸¦é»˜è®¤å‚æ•°çš„å‡½æ•°">æºå¸¦é»˜è®¤å‚æ•°çš„å‡½æ•°</a>        <ul>
          <li><a href="#é»˜è®¤å‚æ•°å€¼" id="markdown-toc-é»˜è®¤å‚æ•°å€¼">é»˜è®¤å‚æ•°å€¼</a></li>
          <li><a href="#é»˜è®¤å‚æ•°è¡¨è¾¾å¼" id="markdown-toc-é»˜è®¤å‚æ•°è¡¨è¾¾å¼">é»˜è®¤å‚æ•°è¡¨è¾¾å¼</a></li>
          <li><a href="#arguments-çš„æ€ªå¼‚ä¹‹å¤„" id="markdown-toc-arguments-çš„æ€ªå¼‚ä¹‹å¤„">arguments çš„æ€ªå¼‚ä¹‹å¤„</a></li>
        </ul>
      </li>
      <li><a href="#rest-å‚æ•°" id="markdown-toc-rest-å‚æ•°">rest å‚æ•°</a></li>
      <li><a href="#name-å±æ€§" id="markdown-toc-name-å±æ€§">name å±æ€§</a></li>
    </ul>
  </li>
  <li><a href="#spread-è¿ç®—ç¬¦" id="markdown-toc-spread-è¿ç®—ç¬¦">Spread è¿ç®—ç¬¦</a>    <ul>
      <li><a href="#ç”¨æ¥æ›¿æ¢-apply" id="markdown-toc-ç”¨æ¥æ›¿æ¢-apply">ç”¨æ¥æ›¿æ¢ apply</a></li>
      <li><a href="#å°†ç±»æ•°ç»„è½¬æ¢ä¸ºæ•°ç»„" id="markdown-toc-å°†ç±»æ•°ç»„è½¬æ¢ä¸ºæ•°ç»„">å°†ç±»æ•°ç»„è½¬æ¢ä¸ºæ•°ç»„</a></li>
      <li><a href="#åˆå¹¶å’Œå¤åˆ¶æ•°ç»„" id="markdown-toc-åˆå¹¶å’Œå¤åˆ¶æ•°ç»„">åˆå¹¶å’Œå¤åˆ¶æ•°ç»„</a></li>
      <li><a href="#è§£æ„ä¸­çš„ä¸å®šå‚æ•°" id="markdown-toc-è§£æ„ä¸­çš„ä¸å®šå‚æ•°">è§£æ„ä¸­çš„ä¸å®šå‚æ•°</a></li>
      <li><a href="#å°†-set-é›†åˆè½¬æ¢ä¸ºæ•°ç»„" id="markdown-toc-å°†-set-é›†åˆè½¬æ¢ä¸ºæ•°ç»„">å°† Set é›†åˆè½¬æ¢ä¸ºæ•°ç»„</a></li>
    </ul>
  </li>
  <li><a href="#ç®­å¤´å‡½æ•°" id="markdown-toc-ç®­å¤´å‡½æ•°">ç®­å¤´å‡½æ•°</a>    <ul>
      <li><a href="#ç®­å¤´å‡½æ•°çš„å†™æ³•" id="markdown-toc-ç®­å¤´å‡½æ•°çš„å†™æ³•">ç®­å¤´å‡½æ•°çš„å†™æ³•</a></li>
    </ul>
  </li>
  <li><a href="#å¯¹è±¡çš„æ‰©å±•" id="markdown-toc-å¯¹è±¡çš„æ‰©å±•">å¯¹è±¡çš„æ‰©å±•</a>    <ul>
      <li><a href="#å¯¹è±¡å­—é¢é‡çš„æ‰©å±•" id="markdown-toc-å¯¹è±¡å­—é¢é‡çš„æ‰©å±•">å¯¹è±¡å­—é¢é‡çš„æ‰©å±•</a></li>
      <li><a href="#objectprototypeçš„æ–°å¢æ–¹æ³•" id="markdown-toc-objectprototypeçš„æ–°å¢æ–¹æ³•">Object.prototypeçš„æ–°å¢æ–¹æ³•</a></li>
      <li><a href="#å…è®¸é‡å¤çš„å¯¹è±¡å­—é¢é‡å±æ€§" id="markdown-toc-å…è®¸é‡å¤çš„å¯¹è±¡å­—é¢é‡å±æ€§">å…è®¸é‡å¤çš„å¯¹è±¡å­—é¢é‡å±æ€§</a></li>
      <li><a href="#è‡ªæœ‰å±æ€§çš„æšä¸¾é¡ºåº" id="markdown-toc-è‡ªæœ‰å±æ€§çš„æšä¸¾é¡ºåº">è‡ªæœ‰å±æ€§çš„æšä¸¾é¡ºåº</a></li>
      <li><a href="#æ–¹æ³•çš„å®šä¹‰" id="markdown-toc-æ–¹æ³•çš„å®šä¹‰">æ–¹æ³•çš„å®šä¹‰</a></li>
    </ul>
  </li>
  <li><a href="#å¢å¼ºå¯¹è±¡åŸå‹" id="markdown-toc-å¢å¼ºå¯¹è±¡åŸå‹">å¢å¼ºå¯¹è±¡åŸå‹</a>    <ul>
      <li><a href="#æ”¹å˜å¯¹è±¡çš„åŸå‹" id="markdown-toc-æ”¹å˜å¯¹è±¡çš„åŸå‹">æ”¹å˜å¯¹è±¡çš„åŸå‹</a></li>
    </ul>
  </li>
  <li><a href="#è§£æ„" id="markdown-toc-è§£æ„">è§£æ„</a>    <ul>
      <li><a href="#å¯¹è±¡è§£æ„" id="markdown-toc-å¯¹è±¡è§£æ„">å¯¹è±¡è§£æ„</a>        <ul>
          <li><a href="#ä¸ºéåŒåå±€éƒ¨å˜é‡èµ‹å€¼" id="markdown-toc-ä¸ºéåŒåå±€éƒ¨å˜é‡èµ‹å€¼">ä¸ºéåŒåå±€éƒ¨å˜é‡èµ‹å€¼</a></li>
          <li><a href="#åµŒå¥—å¯¹è±¡è§£æ„" id="markdown-toc-åµŒå¥—å¯¹è±¡è§£æ„">åµŒå¥—å¯¹è±¡è§£æ„</a></li>
        </ul>
      </li>
      <li><a href="#æ•°ç»„è§£æ„" id="markdown-toc-æ•°ç»„è§£æ„">æ•°ç»„è§£æ„</a>        <ul>
          <li><a href="#äº¤æ¢" id="markdown-toc-äº¤æ¢">äº¤æ¢</a></li>
          <li><a href="#ä¸å®šå‚æ•°å’Œä¸å®šå…ƒç´ " id="markdown-toc-ä¸å®šå‚æ•°å’Œä¸å®šå…ƒç´ ">ä¸å®šå‚æ•°å’Œä¸å®šå…ƒç´ </a></li>
        </ul>
      </li>
      <li><a href="#è§£æ„ç”¨åœ¨å‡½æ•°å‚æ•°ä¼ é€’" id="markdown-toc-è§£æ„ç”¨åœ¨å‡½æ•°å‚æ•°ä¼ é€’">è§£æ„ç”¨åœ¨å‡½æ•°å‚æ•°ä¼ é€’</a></li>
    </ul>
  </li>
  <li><a href="#set-å’Œ-map" id="markdown-toc-set-å’Œ-map">Set å’Œ Map</a>    <ul>
      <li><a href="#weakset" id="markdown-toc-weakset">WeakSet</a></li>
      <li><a href="#weakmap" id="markdown-toc-weakmap">WeakMap</a></li>
    </ul>
  </li>
  <li><a href="#æ”¹è¿›æ•°ç»„åŠŸèƒ½" id="markdown-toc-æ”¹è¿›æ•°ç»„åŠŸèƒ½">æ”¹è¿›æ•°ç»„åŠŸèƒ½</a>    <ul>
      <li><a href="#arrayof-å’Œ-arrayfrom" id="markdown-toc-arrayof-å’Œ-arrayfrom">Array.of() å’Œ Array.from()</a></li>
      <li><a href="#å…¶ä»–æ–¹æ³•" id="markdown-toc-å…¶ä»–æ–¹æ³•">å…¶ä»–æ–¹æ³•</a>        <ul>
          <li><a href="#find-å’Œ-findindex" id="markdown-toc-find-å’Œ-findindex">find() å’Œ findIndex()</a></li>
          <li><a href="#fill" id="markdown-toc-fill">fill()</a></li>
          <li><a href="#copywithin" id="markdown-toc-copywithin">copyWithin()</a></li>
        </ul>
      </li>
      <li><a href="#å®šå‹æ•°ç»„" id="markdown-toc-å®šå‹æ•°ç»„">å®šå‹æ•°ç»„</a></li>
    </ul>
  </li>
  <li><a href="#class" id="markdown-toc-class">Class</a>    <ul>
      <li><a href="#ç±»çš„å£°æ˜" id="markdown-toc-ç±»çš„å£°æ˜">ç±»çš„å£°æ˜</a></li>
      <li><a href="#ç±»çš„è¡¨è¾¾å¼" id="markdown-toc-ç±»çš„è¡¨è¾¾å¼">ç±»çš„è¡¨è¾¾å¼</a></li>
      <li><a href="#å…¶ä»–ç‰¹ç‚¹" id="markdown-toc-å…¶ä»–ç‰¹ç‚¹">å…¶ä»–ç‰¹ç‚¹</a>        <ul>
          <li><a href="#è®¿é—®å™¨å±æ€§" id="markdown-toc-è®¿é—®å™¨å±æ€§">è®¿é—®å™¨å±æ€§</a></li>
          <li><a href="#å¯è®¡ç®—æˆå‘˜" id="markdown-toc-å¯è®¡ç®—æˆå‘˜">å¯è®¡ç®—æˆå‘˜</a></li>
          <li><a href="#å®šä¹‰ç”Ÿæˆå™¨" id="markdown-toc-å®šä¹‰ç”Ÿæˆå™¨">å®šä¹‰ç”Ÿæˆå™¨</a></li>
          <li><a href="#é™æ€æˆå‘˜" id="markdown-toc-é™æ€æˆå‘˜">é™æ€æˆå‘˜</a></li>
        </ul>
      </li>
      <li><a href="#ç»§æ‰¿å’Œæ´¾ç”Ÿ" id="markdown-toc-ç»§æ‰¿å’Œæ´¾ç”Ÿ">ç»§æ‰¿å’Œæ´¾ç”Ÿ</a>        <ul>
          <li><a href="#å†…å»ºå¯¹è±¡çš„ç»§æ‰¿" id="markdown-toc-å†…å»ºå¯¹è±¡çš„ç»§æ‰¿">å†…å»ºå¯¹è±¡çš„ç»§æ‰¿</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#iterator-and-generator" id="markdown-toc-iterator-and-generator">Iterator and Generator</a>    <ul>
      <li><a href="#æ˜¯ä»€ä¹ˆ" id="markdown-toc-æ˜¯ä»€ä¹ˆ">æ˜¯ä»€ä¹ˆï¼Ÿ</a></li>
      <li><a href="#å¯è¿­ä»£å¯¹è±¡" id="markdown-toc-å¯è¿­ä»£å¯¹è±¡">å¯è¿­ä»£å¯¹è±¡</a></li>
      <li><a href="#å†…å»ºè¿­ä»£å™¨" id="markdown-toc-å†…å»ºè¿­ä»£å™¨">å†…å»ºè¿­ä»£å™¨</a></li>
      <li><a href="#nodelist-è¿­ä»£å™¨" id="markdown-toc-nodelist-è¿­ä»£å™¨">NodeList è¿­ä»£å™¨</a></li>
      <li><a href="#spread-è¿ç®—ç¬¦çš„æœ¬è´¨" id="markdown-toc-spread-è¿ç®—ç¬¦çš„æœ¬è´¨">spread è¿ç®—ç¬¦çš„æœ¬è´¨</a></li>
      <li><a href="#è¿­ä»£å™¨çš„é«˜çº§åŠŸèƒ½" id="markdown-toc-è¿­ä»£å™¨çš„é«˜çº§åŠŸèƒ½">è¿­ä»£å™¨çš„é«˜çº§åŠŸèƒ½</a>        <ul>
          <li><a href="#ç»™-next-ä¼ é€’å‚æ•°ä½¿ç”¨-yield-æ¥ç”Ÿæˆå€¼" id="markdown-toc-ç»™-next-ä¼ é€’å‚æ•°ä½¿ç”¨-yield-æ¥ç”Ÿæˆå€¼">ç»™ next() ä¼ é€’å‚æ•°ï¼Œä½¿ç”¨ yield æ¥ç”Ÿæˆå€¼</a></li>
          <li><a href="#generator-return-è¯­å¥" id="markdown-toc-generator-return-è¯­å¥">Generator return è¯­å¥</a></li>
        </ul>
      </li>
      <li><a href="#ç”Ÿæˆå™¨å§”æ‰˜" id="markdown-toc-ç”Ÿæˆå™¨å§”æ‰˜">ç”Ÿæˆå™¨å§”æ‰˜</a></li>
      <li><a href="#generator-çš„å¼‚æ­¥æ“ä½œ" id="markdown-toc-generator-çš„å¼‚æ­¥æ“ä½œ">Generator çš„å¼‚æ­¥æ“ä½œ</a></li>
    </ul>
  </li>
  <li><a href="#æ¨¡å—" id="markdown-toc-æ¨¡å—">æ¨¡å—</a>    <ul>
      <li><a href="#ä¸¤ä¸ªå…³é”®å­—" id="markdown-toc-ä¸¤ä¸ªå…³é”®å­—">ä¸¤ä¸ªå…³é”®å­—</a></li>
      <li><a href="#export-å’Œ-import-å¯¼å…¥æ¥å£çš„é‡å‘½å" id="markdown-toc-export-å’Œ-import-å¯¼å…¥æ¥å£çš„é‡å‘½å">export å’Œ import å¯¼å…¥æ¥å£çš„é‡å‘½å</a></li>
      <li><a href="#export-default" id="markdown-toc-export-default">export default</a>        <ul>
          <li><a href="#å¯¼å‡ºé»˜è®¤ç»‘å®šå’Œå¯¼å‡ºä¸€ä¸ªæˆ–å¤šä¸ªéé»˜è®¤ç»‘å®š" id="markdown-toc-å¯¼å‡ºé»˜è®¤ç»‘å®šå’Œå¯¼å‡ºä¸€ä¸ªæˆ–å¤šä¸ªéé»˜è®¤ç»‘å®š">å¯¼å‡ºé»˜è®¤ç»‘å®šå’Œå¯¼å‡ºä¸€ä¸ªæˆ–å¤šä¸ªéé»˜è®¤ç»‘å®š</a></li>
          <li><a href="#å†æ¬¡-export" id="markdown-toc-å†æ¬¡-export">å†æ¬¡ export</a></li>
        </ul>
      </li>
      <li><a href="#æ²¡æœ‰-export-çš„æ¥å£å¯¼å‡º" id="markdown-toc-æ²¡æœ‰-export-çš„æ¥å£å¯¼å‡º">æ²¡æœ‰ export çš„æ¥å£å¯¼å‡º</a></li>
      <li><a href="#æ¨¡å—å’Œè„šæœ¬çš„åŒºåˆ«" id="markdown-toc-æ¨¡å—å’Œè„šæœ¬çš„åŒºåˆ«">æ¨¡å—å’Œè„šæœ¬çš„åŒºåˆ«</a></li>
    </ul>
  </li>
</ul>

<p>åœ¨<a href="/2017/07/20/Clean-Code">ç¼–å†™è‡ªå·±çš„ä»£ç åº“</a>ä¸­æˆ‘æ›¾ç»è¡¨è¾¾äº†è‡ªå·±å¯¹ JavaScript çš„ç†è§£ã€‚ä»Šæ—¥(2017.10.21)é˜…è¯» Nicholas C.Zakes çš„ ã€ŠUnderstanding ES6ã€‹ï¼ŒRedux çš„åˆ›é€ è€… Dan Abramov åœ¨åºè¨€ä¸­æåˆ°ï¼š</p>

<blockquote>
  <p>JavaScript was not a toy language.</p>
</blockquote>

<p>æ˜¯çš„ï¼ŒJavaScript å¹¶ä¸æ˜¯(æˆ–è€…è¯´ä¸å†æ˜¯)ä¸€é—¨â€œç©å…·â€è¯­è¨€äº†ã€‚æ‰€ä»¥ä¸ï¼Œæœ¬æ–‡ä¸»è¦èšç„¦äº ES6 çš„ä¸€äº› new featureï¼Œä»¥åŠè¡¨è¾¾ä¸€äº›è‡ªæˆ‘çš„ç†è§£ã€‚</p>

<!-- more -->

<h2 id="æœ€ä½³å®è·µä½¿ç”¨-letconst">æœ€ä½³å®è·µï¼Œä½¿ç”¨ let/const</h2>

<h3 id="å—çº§ä½œç”¨åŸŸçš„ç†è§£">å—çº§ä½œç”¨åŸŸçš„ç†è§£</h3>

<p>åœ¨ JavaScript ä¸­ï¼Œå¾ˆå¤šäººä¼šæŠŠ<em>å—çº§ä½œç”¨åŸŸ</em>å’Œ<em>å‡½æ•°ä½œç”¨åŸŸ</em>åˆ†ç¦»å¼€æ¥ã€‚å…¶å®ï¼Œå—çº§ä½œç”¨åŸŸ(ä¹Ÿå«è¯æ³•ä½œç”¨åŸŸ)åŒ…å«ä¸¤å—ï¼š</p>

<ul>
  <li>å…¶ä¸€å°±æ˜¯å‡½æ•°ä½œç”¨åŸŸï¼Œåœ¨å‡½æ•°å†…éƒ¨</li>
  <li>å…¶äºŒå°±æ˜¯å—ï¼Œå³ <code class="highlighter-rouge">{}</code> ä¸­é—´</li>
</ul>

<p>æ‰€ä»¥ï¼ŒJavaScript å¼•å…¥ <code class="highlighter-rouge">let/const</code> å°±æ˜¯ä¸ºäº†è§£å†³ç¬¬äºŒç±»å—çº§ä½œç”¨åŸŸçš„é—®é¢˜ã€‚</p>

<h3 id="temporal-dead-zone">temporal dead zone</h3>

<p>æ¶‰åŠåˆ° let/const çš„å…·ä½“å®ç°æ–¹é¢ï¼Œä¼šæ¥è§¦åˆ°æš‚æ—¶æ€§æ­»åŒº (TDZ) è¿™ä¸ªæ¦‚å¿µã€‚é¦–å…ˆï¼ŒæŠŠæˆ‘çš„ç»“è®ºäº®å‡ºæ¥ï¼š<strong>ä½¿ç”¨ let/const å£°æ˜çš„å˜é‡å­˜åœ¨ hoisting</strong>ã€‚</p>

<p>åœ¨ç¼–è¯‘å™¨åœ¨æ‰«æä»£ç å‘ç°å˜é‡å£°æ˜æ—¶ï¼Œé‡åˆ° var å£°æ˜çš„å˜é‡ï¼Œå°±å°†å®ƒä»¬æå‡è‡³<strong>ä½œç”¨åŸŸé¡¶éƒ¨</strong>ï¼Œé‡åˆ° let/const å£°æ˜çš„å˜é‡åˆ™æ”¾å…¥ TDZ ä¸­ã€‚<strong>TDZ åœ¨å˜é‡å£°æ˜åç»ˆç»“ï¼Œè€Œä¸æ˜¯èµ‹å€¼å</strong>ã€‚åœ¨å—çº§ä½œç”¨åŸŸç»“æŸæ—¶ï¼Œå˜é‡ç«‹åˆ»è¢«åƒåœ¾å›æ”¶å™¨å›æ”¶ã€‚æˆ‘ä»¬çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">outer value</span><span class="dl">'</span><span class="p">;</span>
<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span> <span class="c1">// Reference error</span>
  <span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">inner value</span><span class="dl">'</span><span class="p">;</span>
<span class="p">}());</span>
</code></pre></div></div>

<p>è¿™é‡Œï¼Œå¦‚æœ let å£°æ˜çš„å˜é‡ä¸æå‡çš„è¯ï¼Œä¼šè¾“å‡º â€˜outer valueâ€™ï¼Œä½†å®é™…è¾“å‡ºä¼šæŠ¥é”™ã€‚è¿™å°±æ˜¯è¯´ <code class="highlighter-rouge">lex x = 'inner value'</code> ä¼šè¢«æå‡ï¼Œä½†åœ¨å£°æ˜å‰æ— æ³•è¢«è®¿é—®(æ”¾å…¥ TDZ åŒºåŸŸ)ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//console.log(aLet); //Reference error</span>
<span class="kd">let</span> <span class="nx">yuer</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">yuer</span><span class="p">);</span> <span class="c1">// undefined</span>
<span class="nx">yuer</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">yuer</span><span class="p">);</span> <span class="c1">// 10</span>
</code></pre></div></div>

<p>ä¸Šé¢è¿™æ®µä»£ç æ˜¯è§£é‡Š TDZ çš„ä¸€ä¸ª Life cycleã€‚</p>

<p>å†çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">f</span><span class="p">();</span>
<span class="kd">const</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">f</span><span class="p">()</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span> <span class="p">(</span><span class="nx">b</span><span class="p">);</span> <span class="p">}</span> <span class="c1">//Reference error</span>
</code></pre></div></div>

<blockquote>
  <p>æ›´å¤šçš„å‚è€ƒï¼š<a href="https://stackoverflow.com/questions/33198849/what-is-the-temporal-dead-zone">What is the temporal dead zone?</a> <a href="http://jsrocks.org/2015/01/temporal-dead-zone-tdz-demystified">TEMPORAL DEAD ZONE (TDZ) DEMYSTIFIED</a> <a href="https://hacks.mozilla.org/2015/07/es6-in-depth-let-and-const/">ES6 In Depth: let and const</a> <a href="https://ponyfoo.com/articles/es6-let-const-and-temporal-dead-zone-in-depth">ES6 Let, Const and the â€œTemporal Dead Zoneâ€ (TDZ) in Depth</a></p>
</blockquote>

<h3 id="ä¸å…è®¸é‡å¤å£°æ˜">ä¸å…è®¸é‡å¤å£°æ˜</h3>

<p>åœ¨ä½¿ç”¨ var çš„æ—¶ä»£ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å†™å‡ºä¸‹é¢çš„ä»£ç ï¼š</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">xiaoke</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">xiaoke</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">xiaoke</span><span class="p">);</span><span class="c1">// 3</span>
</code></pre></div></div>

<p>åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œè¿™æ®µä»£ç æ˜¯ä¸æŠ¥é”™çš„ã€‚ä½†æ˜¯ let/const ä¸å…è®¸è¿™ç§è¡Œä¸ºå‘ç”Ÿã€‚ä¹Ÿå°±æ˜¯ä¸‹é¢çš„ä»£ç éƒ½ä¼šæŠ¥é”™ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="dl">'</span><span class="s1">use strict</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">xiaoke</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">xiaoke</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">xiaoke</span><span class="p">);</span> <span class="c1">//SyntaxError</span>

<span class="kd">let</span> <span class="nx">love</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">love</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">love</span><span class="p">);</span> <span class="c1">//SyntaxError</span>

<span class="kd">var</span> <span class="nx">yuer</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">yuer</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">yuer</span><span class="p">);</span> <span class="c1">//SyntaxError</span>
</code></pre></div></div>

<p>const ä¹Ÿæ˜¯åŒç†ã€‚ä½†æ˜¯æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœå†…åµŒå¦ä¸€ä¸ªä½œç”¨åŸŸï¼Œä¾¿å¯åœ¨å†…åµŒçš„ä½œç”¨åŸŸä¸­ç”¨ let å£°æ˜åŒåå˜é‡ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">count</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">condition</span><span class="p">){</span>
    <span class="kd">let</span> <span class="nx">count</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span> <span class="c1">//å¯¹çš„</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="const-ç”¨æ¥å£°æ˜å¯¹è±¡">const ç”¨æ¥å£°æ˜å¯¹è±¡</h3>

<p>const ç”¨æ¥è¡¨ç¤ºä¸€ä¸ªå¸¸é‡ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬è¯¥ä¸ºå¸¸é‡ä½¿ç”¨å¤§å†™å‘½åï¼Œä½†è¿™é€‚ç”¨äºä¸€äº›åœ¨æ‰§è¡Œå‰å°±å·²çŸ¥çš„å€¼ã€‚å¯¹äºåœ¨æ‰§è¡ŒæœŸé—´å®æ—¶è®¡ç®—å‡ºæ¥çš„ä¸å˜çš„å€¼ï¼Œæœ€å¥½ä½¿ç”¨å¸¸è§„å‘½åã€‚</p>

<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œconst å£°æ˜ä¸å…è®¸ä¿®æ”¹ç»‘å®šï¼Œä½†å…è®¸ä¿®æ”¹å€¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºå¼•ç”¨ç±»å‹ï¼Œå¼•ç”¨æ˜¯æ— æ³•ä¿®æ”¹çš„ï¼Œä½†æ‰€æŒ‡å‘çš„å†…å®¹æ˜¯å¯ä»¥çš„ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="dl">'</span><span class="s1">use strict</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">yuer</span><span class="dl">'</span>
<span class="p">};</span>

<span class="nx">person</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">xiaoke</span><span class="dl">'</span><span class="p">;</span> <span class="c1">// å¯¹</span>

<span class="cm">/*
person = {
    name: â€˜xiaoke' // SyntaxError
}*/</span>
</code></pre></div></div>

<p>æˆ‘ä»¬å¯ä»¥è¿™æ ·æ¥éªŒè¯ï¼š</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="dl">'</span><span class="s1">use strict</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">yuer</span><span class="dl">'</span>
<span class="p">};</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">getOwnPropertyDescriptor</span><span class="p">(</span><span class="nx">person</span><span class="p">,</span><span class="dl">'</span><span class="s1">name</span><span class="dl">'</span><span class="p">));</span>
<span class="cm">/*
{ value: 'yuer',
  writable: true,
  enumerable: true,
  configurable: true }
*/</span>
</code></pre></div></div>

<h3 id="å…¨å±€ä½œç”¨åŸŸä½¿ç”¨-letconst">å…¨å±€ä½œç”¨åŸŸä½¿ç”¨ let/const</h3>

<p>å…¨å±€ä½œç”¨åŸŸå†…ä½¿ç”¨ let/const å’Œ var çš„ä¸€ä¸ªåŒºåˆ«æ˜¯ï¼Œvar åˆ›å»ºçš„å˜é‡ä¼šæˆä¸ºå…¨å±€å¯¹è±¡(é€šå¸¸æ˜¯æµè§ˆå™¨ï¼Œå³ window å¯¹è±¡)çš„ä¸€ä¸ªå±æ€§ï¼Œä¹Ÿæ„å‘³ç€ä¼šå¯èƒ½ä¼šæ— æ„ä¸­è¦†ç›–å·²ç»å­˜åœ¨çš„å…¨å±€å˜é‡ã€‚</p>

<p>å¦‚æœä½¿ç”¨ let/constï¼Œä¸ä¼šè‡ªåŠ¨æ·»åŠ ä¸ºå…¨å±€å¯¹è±¡çš„å±æ€§ã€‚</p>

<h3 id="å¯ä»¥æ›´æ–°çš„å†™æ³•">å¯ä»¥æ›´æ–°çš„å†™æ³•</h3>

<h4 id="ifwhileforforofforin-å¾ªç¯">if/while/for/forâ€¦of/forâ€¦in å¾ªç¯</h4>

<p>ä½¿ç”¨ let ä»£æ›¿ varï¼Œè¿™æ²¡ä»€ä¹ˆå¥½è¯´çš„ã€‚</p>

<h4 id="ä¿æŠ¤ç°åœº">ä¿æŠ¤ç°åœº</h4>

<p>åœ¨å¾ªç¯ä¸­ä½¿ç”¨å‡½æ•°ï¼Œç»å¸¸æˆ‘ä»¬ä¼šé‡‡ç”¨ IIFE æ¥ä¿æŠ¤ç°åœºã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">){</span>
    <span class="nx">setTimeout</span><span class="p">((</span><span class="kd">function</span> <span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">})(</span><span class="nx">i</span><span class="p">),</span><span class="mi">100</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>æœ‰äº† let/constï¼Œå°±ä¸éœ€è¦è¿™ä¹ˆæŠ˜è…¾äº†ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">){</span>
    <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
    <span class="p">},</span><span class="mi">100</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="forinforof-ä¸­-const-çš„å¼‚å¸¸è¡¨ç°">forâ€¦in/forâ€¦of ä¸­ const çš„å¼‚å¸¸è¡¨ç°</h4>

<p>const ä¸€èˆ¬ä¸ä¼šç”¨åœ¨ for å¾ªç¯ä¸­ï¼Œæ¯”å¦‚ï¼š</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">){</span>
    <span class="c1">//do something</span>
<span class="p">}</span>
</code></pre></div></div>

<p>i è¢«å£°æ˜ä¸ºå¸¸é‡ï¼Œåœ¨ for å¾ªç¯ä¸­ä¼šé¢ä¸´ä¿®æ”¹ã€‚å› æ­¤ä¼šæŠ›å‡ºé”™è¯¯ã€‚</p>

<p>ä½†åœ¨ forâ€¦in å’Œ forâ€¦of ä¸­ä½¿ç”¨ä¸ä¼šäº§ç”Ÿé”™è¯¯ï¼š</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">yuer</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">age</span><span class="p">:</span><span class="mi">22</span>
<span class="p">};</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">key</span> <span class="k">in</span> <span class="nx">obj</span><span class="p">){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">key</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>è¿™æ˜¯å› ä¸º forâ€¦in/forâ€¦of ä¸­ï¼Œæ¯æ¬¡è¿­ä»£ä¸ä¼šè¯•å›¾ä¿®æ”¹å·²æœ‰ç»‘å®šï¼Œè€Œæ˜¯åˆ›å»ºä¸€ä¸ªæ–°ç»‘å®šã€‚ä½†æ˜¯å¦‚æœä½ è¯•å›¾ä¿®æ”¹ key çš„å€¼ï¼Œåˆ™ä¼šæŠ›å‡ºé”™è¯¯ï¼š</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">yuer</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">age</span><span class="p">:</span><span class="mi">22</span>
<span class="p">};</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">key</span> <span class="k">in</span> <span class="nx">obj</span><span class="p">){</span>
    <span class="nx">key</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">().</span><span class="nx">toString</span><span class="p">();</span> <span class="c1">//TypeError</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">key</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>å½“ç„¶äº†ï¼Œconst çš„å®‰å…¨æ€§æ›´å¼ºï¼Œæ‰€ä»¥ç¤¾åŒºçš„ä¸€ä¸ªåšæ³•æ—¥ç›Šæ™®åŠï¼š<strong>é»˜è®¤ä½¿ç”¨ constï¼Œåªæœ‰ç¡®å®éœ€è¦æ”¹å˜å˜é‡çš„æƒ…å†µä¸‹ä½¿ç”¨ let</strong>ã€‚</p>

<hr />

<h2 id="å‡½æ•°çš„æ€§èƒ½ä¼˜åŒ–">å‡½æ•°çš„æ€§èƒ½ä¼˜åŒ–</h2>

<p>ES6 å¯¹å‡½æ•°è¿›è¡Œäº†å¤§é‡æ”¹è¿›ã€‚</p>

<h3 id="æºå¸¦é»˜è®¤å‚æ•°çš„å‡½æ•°">æºå¸¦é»˜è®¤å‚æ•°çš„å‡½æ•°</h3>

<p>ä»¥å‰çš„å†™æ³•ä¸­ï¼Œé€šå¸¸ä½¿ç”¨ <code class="highlighter-rouge">||</code> è¿ç®—ç¬¦æ¥æä¾›å‚æ•°é»˜è®¤å€¼ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">timeout</span><span class="p">,</span> <span class="nx">method</span><span class="p">){</span>
    <span class="nx">timeout</span> <span class="o">=</span> <span class="nx">timeout</span> <span class="o">||</span> <span class="mi">2000</span><span class="p">;</span>
    <span class="c1">//do something</span>
<span class="p">}</span>
</code></pre></div></div>

<p>æœ‰ä¸€ä¸ªå¼Šç«¯å°±æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬ç»™ <code class="highlighter-rouge">timeout</code> ä¼ å…¥ <code class="highlighter-rouge">0</code>ï¼Œ<code class="highlighter-rouge">timeout</code> ä¹Ÿä¼šé‡‡ç”¨é»˜è®¤å€¼ <code class="highlighter-rouge">2000</code>ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹æ³•æ¥è§£å†³ï¼š</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">timeout</span><span class="p">,</span> <span class="nx">method</span><span class="p">){</span>
    <span class="nx">timeout</span> <span class="o">=</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">timeout</span> <span class="o">!==</span> <span class="dl">"</span><span class="s2">undefined</span><span class="dl">"</span><span class="p">)</span> <span class="p">?</span> <span class="nx">timeout</span> <span class="o">||</span> <span class="mi">2000</span><span class="p">;</span>
    <span class="c1">//do something</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ES6 å¯¹è¿™ä¸€æ“ä½œè¿›è¡Œäº†æ”¹è¿›ã€‚</p>

<h4 id="é»˜è®¤å‚æ•°å€¼">é»˜è®¤å‚æ•°å€¼</h4>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">timeout</span> <span class="o">=</span> <span class="mi">2000</span><span class="p">,</span> <span class="nx">method</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span><span class="k">return</span> <span class="dl">'</span><span class="s1">xiaoke</span><span class="dl">'</span><span class="p">}){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">timeout</span><span class="p">,</span><span class="nx">method</span><span class="p">());</span>
<span class="p">}</span>
<span class="nx">foo</span><span class="p">();</span>                                      <span class="c1">//(1) undefined 2000 'xiaoke'</span>
<span class="nx">foo</span><span class="p">(</span><span class="dl">'</span><span class="s1">http://xiaokedada.com</span><span class="dl">'</span><span class="p">);</span>               <span class="c1">//(2) http://xiaokedada.com 2000 xiaoke</span>
<span class="nx">foo</span><span class="p">(</span><span class="dl">'</span><span class="s1">http://xiaokedada.com</span><span class="dl">'</span><span class="p">,</span> <span class="mi">400</span><span class="p">);</span>          <span class="c1">//(3) http://xiaokedada.com 400 xiaoke</span>
<span class="nx">foo</span><span class="p">(</span><span class="dl">'</span><span class="s1">http://xiaokedada.com</span><span class="dl">'</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">,</span><span class="kd">function</span> <span class="nx">bar</span><span class="p">(){</span><span class="k">return</span> <span class="dl">'</span><span class="s1">yuer</span><span class="dl">'</span><span class="p">});</span>  <span class="c1">//(4) http://xiaokedada.com 2000 yuer</span>
<span class="nx">foo</span><span class="p">(</span><span class="dl">'</span><span class="s1">http://xiaokedada.com</span><span class="dl">'</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span><span class="kd">function</span> <span class="nx">bar</span><span class="p">(){</span><span class="k">return</span> <span class="dl">'</span><span class="s1">yuer</span><span class="dl">'</span><span class="p">});</span>       <span class="c1">//(5) http://xiaokedada.com null yuer</span>
</code></pre></div></div>

<p>æ€»ç»“ä¸€ä¸‹ï¼š</p>

<ul>
  <li>ä½¿ç”¨ <code class="highlighter-rouge">=</code> ç»™å‚æ•°æ·»åŠ é»˜è®¤å€¼</li>
  <li>éœ€è¦ç»™å‚æ•°ä¸»åŠ¨ä¼ å…¥ <code class="highlighter-rouge">undefined</code>ï¼Œæ‰ä¼šä½¿ç”¨é»˜è®¤å€¼(ç¤ºä¾‹4)ã€‚<code class="highlighter-rouge">null</code> æ˜¯ä¸ªåˆæ³•å€¼(ç¤ºä¾‹5)ã€‚</li>
</ul>

<h4 id="é»˜è®¤å‚æ•°è¡¨è¾¾å¼">é»˜è®¤å‚æ•°è¡¨è¾¾å¼</h4>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">getValue</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">5</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">first</span><span class="p">,</span> <span class="nx">second</span> <span class="o">=</span> <span class="nx">getValue</span><span class="p">(</span><span class="nx">first</span><span class="p">)){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">first</span> <span class="o">+</span> <span class="nx">second</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">foo</span> <span class="p">(</span><span class="mi">1</span><span class="p">);</span>    <span class="c1">//7</span>
<span class="nx">foo</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>   <span class="c1">//2</span>
</code></pre></div></div>

<p>ä¸Šå¼è¡¨ç¤ºï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ä¼ å…¥ï¼Œä¼šé»˜è®¤ä½¿ç”¨è¡¨è¾¾å¼è®¡ç®—å‡ºçš„å€¼ä½œä¸º second çš„é»˜è®¤å‚æ•°å€¼ã€‚</p>

<p>ä½†å¦‚æœä¸‹é¢è¿™æ ·å‘¢ï¼Ÿ first ä¾èµ– second å–å¾—é»˜è®¤å€¼çš„æƒ…å†µä¸‹ï¼Œç»™ first ä¼ é€’ <code class="highlighter-rouge">undefined</code>ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">getValue</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">5</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">first</span> <span class="o">=</span> <span class="nx">getValue</span><span class="p">(</span><span class="nx">second</span><span class="p">),</span> <span class="nx">second</span><span class="p">){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">first</span> <span class="o">+</span> <span class="nx">second</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">foo</span><span class="p">(</span><span class="kc">undefined</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>   <span class="c1">//ReferenceError</span>
</code></pre></div></div>

<p>è¿™æ¶‰åŠåˆ°æš‚æ—¶æ€§æ­»åŒº (TDZ) çš„é—®é¢˜ï¼Œä¸Šè¿°çš„è°ƒç”¨å¯ä»¥æƒ³è±¡æˆï¼š</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">first</span> <span class="o">=</span> <span class="nx">getValue</span><span class="p">(</span><span class="nx">second</span><span class="p">);</span>   <span class="c1">//è®¿é—® TDZ ä¸­çš„å˜é‡ï¼Œé”™è¯¯</span>
<span class="kd">let</span> <span class="nx">second</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</code></pre></div></div>

<blockquote>
  <p>å‡½æ•°å‚æ•°æœ‰è‡ªå·±çš„ä½œç”¨åŸŸå’Œæš‚æ—¶æ€§æ­»åŒºï¼Œå…¶ä¸å‡½æ•°ä½“çš„ä½œç”¨åŸŸæ˜¯å„è‡ªç‹¬ç«‹çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å‚æ•°çš„é»˜è®¤å€¼ä¸å¯è®¿é—®å‡½æ•°ä½“å†…å£°æ˜çš„å˜é‡ã€‚</p>
</blockquote>

<h4 id="arguments-çš„æ€ªå¼‚ä¹‹å¤„">arguments çš„æ€ªå¼‚ä¹‹å¤„</h4>

<p>éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼š</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">mix</span><span class="p">(</span><span class="nx">first</span><span class="p">,</span> <span class="nx">second</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">first</span> <span class="o">===</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>    <span class="c1">//true</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">second</span> <span class="o">===</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>   <span class="c1">//true</span>
    <span class="nx">first</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">c</span><span class="dl">'</span><span class="p">;</span>
    <span class="nx">second</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">d</span><span class="dl">'</span><span class="p">;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">first</span> <span class="o">===</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>    <span class="c1">//true</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">second</span> <span class="o">===</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>   <span class="c1">//true</span>
<span class="p">}</span>
<span class="nx">mix</span><span class="p">(</span><span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">b</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div></div>

<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå‡½æ•°å‚æ•°çš„å˜åŒ–ä¼šåŒæ­¥æ›´æ–°åˆ° arguments å¯¹è±¡ä¸­ã€‚<strong>åœ¨ä¸¥æ ¼æ¨¡å¼ä¸­ï¼Œå–æ¶ˆäº†è¿™ç§æ€ªå¼‚æ–¹å¼</strong>ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="dl">'</span><span class="s1">use strict</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">mix</span><span class="p">(</span><span class="nx">first</span><span class="p">,</span> <span class="nx">second</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">first</span> <span class="o">===</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>    <span class="c1">//true</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">second</span> <span class="o">===</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>   <span class="c1">//true</span>
    <span class="nx">first</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">c</span><span class="dl">'</span><span class="p">;</span>
    <span class="nx">second</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">d</span><span class="dl">'</span><span class="p">;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">first</span> <span class="o">===</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>    <span class="c1">//false</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">second</span> <span class="o">===</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>   <span class="c1">//false</span>
<span class="p">}</span>
<span class="nx">mix</span><span class="p">(</span><span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">b</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div></div>

<p>ES6 å‡½æ•°é»˜è®¤å‚æ•°å€¼çš„è¡Œä¸ºä¸ ES5 ä¸¥æ ¼æ¨¡å¼ arguments ä¿æŒä¸€è‡´ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">mix</span><span class="p">(</span><span class="nx">first</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">c</span><span class="dl">'</span><span class="p">,</span> <span class="nx">second</span><span class="o">=</span><span class="dl">'</span><span class="s1">d</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">first</span> <span class="o">===</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">second</span> <span class="o">===</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
<span class="p">}</span>
<span class="nx">mix</span><span class="p">(</span><span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">b</span><span class="dl">'</span><span class="p">);</span>   <span class="c1">//2 true true</span>
<span class="nx">mix</span><span class="p">(</span><span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">);</span>       <span class="c1">//1 true false</span>
<span class="nx">mix</span><span class="p">();</span>          <span class="c1">//0 false false</span>
<span class="nx">mix</span><span class="p">(</span><span class="kc">undefined</span><span class="p">,</span><span class="dl">'</span><span class="s1">b</span><span class="dl">'</span><span class="p">);</span> <span class="c1">//2 false true</span>
</code></pre></div></div>

<p>ä»¥ç¬¬äºŒä¸ªä¸ºä¾‹ï¼Œå’Œä¸‹é¢çš„ä»£ç æ˜¯ä¸€è‡´çš„ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">mix</span><span class="p">(</span><span class="nx">first</span><span class="p">,</span> <span class="nx">second</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">second</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">d</span><span class="dl">'</span><span class="p">;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">first</span> <span class="o">===</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">second</span> <span class="o">===</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
<span class="p">}</span>
<span class="nx">mix</span><span class="p">(</span><span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="rest-å‚æ•°">rest å‚æ•°</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">first</span><span class="p">,...</span><span class="nx">keys</span><span class="p">){</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">item</span> <span class="k">of</span> <span class="nx">keys</span><span class="p">){</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">item</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="nx">foo</span><span class="p">(</span><span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">b</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">c</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">d</span><span class="dl">'</span><span class="p">);</span>   <span class="c1">//b c d</span>
</code></pre></div></div>

<p>ç”¨æ³•å¾ˆç®€å•ï¼š<strong>rest å‚æ•° keys åŒ…å«äº† first ä¹‹åä¼ å…¥çš„æ‰€æœ‰å‚æ•°</strong>ã€‚å¼•å…¥ rest å‚æ•°çš„è®¾è®¡åˆè¡·æ˜¯æ›¿ä»£ argumentsã€‚å³è¿™æ ·ï¼š</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">foo</span><span class="p">(...</span><span class="nx">keys</span><span class="p">){</span>
    <span class="c1">//do something</span>
<span class="p">}</span>
</code></pre></div></div>

<p>rest å‚æ•°çš„é™åˆ¶æ˜¯ï¼š</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">first</span><span class="p">,...</span><span class="nx">keys</span><span class="p">,</span><span class="nx">last</span><span class="p">){</span>
    <span class="c1">//do something</span>
<span class="p">}</span>
</code></pre></div></div>

<p>è¿™ç§å†™æ³•ä¼šæŠ›å‡ºé”™è¯¯ï¼Œä¹Ÿæ˜¯ä¸è¢«å…è®¸çš„ã€‚</p>

<hr />

<h3 id="name-å±æ€§">name å±æ€§</h3>

<p>name å±æ€§ä¸»è¦æ˜¯ç”±äºåŒ¿åè¡¨è¾¾å¼åœ°å¤§é‡ä½¿ç”¨ï¼Œè°ƒè¯•éš¾åº¦å¢åŠ ï¼Œä»è€Œä¸ºæ‰€æœ‰å‡½æ•°æä¾› name å±æ€§ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">foo</span><span class="p">(){}</span>
<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){};</span>
<span class="kd">var</span> <span class="nx">yuer</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">xiaoke</span><span class="p">(){};</span>

<span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span>
    <span class="kd">get</span> <span class="nx">firstName</span><span class="p">(){</span>
        <span class="k">return</span> <span class="dl">"</span><span class="s2">yuer</span><span class="dl">"</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="na">sayName</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){}</span>
<span class="p">};</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">foo</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>  <span class="c1">// "foo"</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">bar</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>  <span class="c1">// "bar"</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">yuer</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span> <span class="c1">// "xiaoke"</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">person</span><span class="p">.</span><span class="nx">sayName</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>   <span class="c1">// "sayName"</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">bar</span><span class="p">.</span><span class="nx">bind</span><span class="p">().</span><span class="nx">name</span><span class="p">);</span>   <span class="c1">// "bound bar"</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">((</span><span class="k">new</span> <span class="nb">Function</span><span class="p">()).</span><span class="nx">name</span><span class="p">);</span> <span class="c1">// "anonymous"</span>
</code></pre></div></div>

<hr />

<h2 id="spread-è¿ç®—ç¬¦">Spread è¿ç®—ç¬¦</h2>

<p><code class="highlighter-rouge">...</code> è¿ç®—ç¬¦ä½œç”¨äºæ•°ç»„æ“ä½œï¼Œå°†æ•°ç»„å…ƒç´ åˆ†ç¦»æˆä¸ºå•ç‹¬çš„å…ƒç´ ã€‚</p>

<blockquote>
  <p>åœ¨å‡½æ•°è°ƒç”¨æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿç”¨åˆ°è¿™ä¸ª <code class="highlighter-rouge">...</code> æ¥è¡¨ç¤º rest å‚æ•°</p>
</blockquote>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(...[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]);</span>    <span class="c1">//1 2 3</span>
</code></pre></div></div>

<h3 id="ç”¨æ¥æ›¿æ¢-apply">ç”¨æ¥æ›¿æ¢ apply</h3>

<p>æ¯”å¦‚ï¼Œä¸‹é¢è¿™ä¸ªä¾‹å­æ±‚æ•°ç»„å…ƒç´ çš„æœ€å¤§å€¼ï¼š</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">values</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nb">Math</span><span class="p">,</span> <span class="nx">values</span><span class="p">));</span>  <span class="c1">//34</span>
</code></pre></div></div>

<p>è¿™æ˜¯å› ä¸º <code class="highlighter-rouge">Math.max(arg1,arg2,arg3,...)</code> åªèƒ½å¤„ç†åˆ†ç¦»çš„æ•°å­—ï¼Œæˆ‘ä»¬å¯ä»¥å·§å¦™åœ°ä½¿ç”¨ <code class="highlighter-rouge">...</code> æ“ä½œç¬¦ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">values</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(...</span><span class="nx">values</span><span class="p">));</span>   <span class="c1">//34</span>
</code></pre></div></div>

<p>å°† <code class="highlighter-rouge">...</code> è¿ç®—ç¬¦å’Œæ•°ç»„çš„ç»“åˆè§†ä¸ºä¸€èˆ¬å‚æ•°çš„è¯ï¼Œèƒ½æ›´å¤šåœ°æ‰©å±•å®ƒçš„åŠŸèƒ½ã€‚æ¯”å¦‚ï¼š</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">values</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(...</span><span class="nx">values</span><span class="p">,</span><span class="mi">50</span><span class="p">));</span>    <span class="c1">//50</span>
</code></pre></div></div>

<p>å†ä¸¾ä¸ªä¾‹å­ï¼š</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">values</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">];</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">,</span><span class="nx">z</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">x</span><span class="o">+</span><span class="nx">y</span><span class="o">+</span><span class="nx">z</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">//console.log(foo.apply(null, values));</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">foo</span><span class="p">(...</span><span class="nx">values</span><span class="p">));</span>    <span class="c1">// ç»ˆäºå¯ä»¥ä¸ç”¨è¯¥æ­»çš„ null</span>
</code></pre></div></div>

<h3 id="å°†ç±»æ•°ç»„è½¬æ¢ä¸ºæ•°ç»„">å°†ç±»æ•°ç»„è½¬æ¢ä¸ºæ•°ç»„</h3>

<p>ä»¥å‰ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨ <code class="highlighter-rouge">Array.prototype.slice.call()</code> å°† NodeList å’Œ arguments (ç±»æ•°ç»„) è½¬åŒ–ä¸ºæ•°ç»„ã€‚ç°åœ¨æˆ‘ä»¬æœ‰ä¸€ä¸ªæ›´ç®€å•çš„æ–¹æ³•ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">,</span><span class="nx">z</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">arguments</span><span class="p">]);</span>  <span class="c1">//false</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">([...</span><span class="nx">arguments</span><span class="p">]));</span> <span class="c1">//true</span>
<span class="p">}</span>
<span class="nx">foo</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="åˆå¹¶å’Œå¤åˆ¶æ•°ç»„">åˆå¹¶å’Œå¤åˆ¶æ•°ç»„</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//example 01</span>
<span class="kd">let</span> <span class="nx">arr1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">];</span>
<span class="kd">let</span> <span class="nx">arr2</span> <span class="o">=</span> <span class="p">[];</span>
<span class="nx">arr2</span><span class="p">.</span><span class="nx">push</span><span class="p">(...</span><span class="nx">arr1</span><span class="p">);</span>   <span class="c1">//[3,5,10]</span>

<span class="c1">//example 02</span>
<span class="kd">let</span> <span class="nx">arr1</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">two</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">three</span><span class="dl">'</span><span class="p">];</span>
<span class="kd">let</span> <span class="nx">arr2</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">one</span><span class="dl">'</span><span class="p">,</span> <span class="p">...</span><span class="nx">arr1</span><span class="p">,</span> <span class="dl">'</span><span class="s1">four</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">five</span><span class="dl">'</span><span class="p">];</span>    <span class="c1">//["one", "two", "three", "four", "five"]</span>

<span class="c1">//example 03</span>
<span class="kd">let</span> <span class="nx">arr1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">];</span>
<span class="kd">let</span> <span class="nx">arr2</span> <span class="o">=</span> <span class="p">[...</span><span class="nx">arr1</span><span class="p">];</span>
<span class="nx">arr2</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arr1</span><span class="p">);</span>  <span class="c1">//[1,2,3]</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arr2</span><span class="p">);</span>  <span class="c1">//[1,2,3,4]</span>

<span class="c1">//example 04</span>
<span class="kd">let</span> <span class="nx">arr1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">];</span>
<span class="kd">let</span> <span class="nx">arr2</span> <span class="o">=</span> <span class="nx">arr1</span><span class="p">;</span>
<span class="nx">arr2</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arr1</span><span class="p">);</span>  <span class="c1">//[1,2,3,4]</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arr2</span><span class="p">);</span>  <span class="c1">//[1,2,3,4]</span>
</code></pre></div></div>

<p>å°è¯•æ¯”è¾ƒä¾‹å­ 3 å’Œä¾‹å­ 4ï¼Œåˆ†åˆ«æ˜¯æ·±åº¦æ‹·è´å’Œæµ…æ‹·è´ã€‚</p>

<h3 id="è§£æ„ä¸­çš„ä¸å®šå‚æ•°">è§£æ„ä¸­çš„ä¸å®šå‚æ•°</h3>

<h3 id="å°†-set-é›†åˆè½¬æ¢ä¸ºæ•°ç»„">å°† Set é›†åˆè½¬æ¢ä¸ºæ•°ç»„</h3>

<hr />

<h2 id="ç®­å¤´å‡½æ•°">ç®­å¤´å‡½æ•°</h2>

<p>ç®­å¤´å‡½æ•°çš„ç‰¹ç‚¹ï¼š</p>

<ul>
  <li>æ²¡æœ‰ this/super/arguments/new.targetã€‚éƒ½æ˜¯ç”±æœ€å¤–ä¸€å±‚éç®­å¤´å‡½æ•°å†³å®š</li>
  <li>ä¸èƒ½æ›´æ”¹ this çš„ç»‘å®š - å‡½æ•°å†…éƒ¨çš„ this å€¼ä¸å¯ä»¥æ›´æ”¹ï¼Œè¿™ä¸€ç‚¹è´¯ç©¿å‡½æ•°çš„æ•´ä¸ªå‘¨æœŸã€‚</li>
  <li>ä¸èƒ½é€šè¿‡ <code class="highlighter-rouge">new</code> å…³é”®å­—è°ƒç”¨ - æ²¡æœ‰<code class="highlighter-rouge">[[Construct]]</code>æ–¹æ³•</li>
  <li>æ²¡æœ‰åŸå‹ - ä¸èƒ½é€šè¿‡ <code class="highlighter-rouge">new</code> æ¥å…³é”®å­—è°ƒç”¨ï¼Œå› è€Œä¹Ÿæ²¡æœ‰æ„å»ºåŸå‹çš„éœ€æ±‚ï¼Œæ²¡æœ‰ <code class="highlighter-rouge">prototype</code> å±æ€§</li>
  <li>ä¸æ”¯æŒ <code class="highlighter-rouge">arguments</code> å¯¹è±¡ï¼Œæ‰€ä»¥åªèƒ½é€šè¿‡å‘½åå‚æ•°å’Œä¸å®šå‚æ•°æ¥è®¿é—®å‡½æ•°çš„å‚æ•°</li>
</ul>

<blockquote>
  <p>ç®­å¤´å‡½æ•°å†…éƒ¨å½“ç„¶èƒ½ä½¿ç”¨ <code class="highlighter-rouge">call()</code>ã€<code class="highlighter-rouge">apply()</code> å’Œ <code class="highlighter-rouge">bind()</code> å‡½æ•°ï¼Œä½†æ˜¯å¯¹ <code class="highlighter-rouge">this</code> æ¯«æ— å½±å“ã€‚</p>
</blockquote>

<h3 id="ç®­å¤´å‡½æ•°çš„å†™æ³•">ç®­å¤´å‡½æ•°çš„å†™æ³•</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// åªæœ‰ä¸€ä¸ªå‚æ•°</span>
<span class="kd">let</span> <span class="nx">reflect</span> <span class="o">=</span> <span class="nx">value</span> <span class="o">=&gt;</span> <span class="nx">value</span><span class="p">;</span>

<span class="c1">//  å¤šä¸ªå‚æ•°</span>
<span class="kd">let</span> <span class="nx">sum</span> <span class="o">=</span> <span class="p">(</span><span class="nx">num1</span><span class="p">,</span> <span class="nx">num2</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">num1</span> <span class="o">+</span> <span class="nx">num2</span><span class="p">;</span>

<span class="c1">// æ²¡æœ‰å‚æ•°</span>
<span class="kd">let</span> <span class="nx">name</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="dl">"</span><span class="s2">yuer</span><span class="dl">"</span><span class="p">;</span>

<span class="c1">// å‡½æ•°ä½“åŒ…å«å¤šä¸ªè¯­å¥</span>
<span class="kd">let</span> <span class="nx">sum</span> <span class="o">=</span> <span class="p">(</span><span class="nx">num1</span><span class="p">,</span> <span class="nx">num2</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">num1</span> <span class="o">+</span> <span class="nx">num2</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// ç©ºå‡½æ•°</span>
<span class="kd">let</span> <span class="nx">doNothing</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{}</span>

<span class="c1">//åŒ¿åå‡½æ•°çš„ç®­å¤´å‡½æ•°</span>
<span class="kd">let</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">((</span><span class="nx">name</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="na">getName</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">name</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">})(</span><span class="dl">'</span><span class="s1">yuer</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h2 id="å¯¹è±¡çš„æ‰©å±•">å¯¹è±¡çš„æ‰©å±•</h2>

<h3 id="å¯¹è±¡å­—é¢é‡çš„æ‰©å±•">å¯¹è±¡å­—é¢é‡çš„æ‰©å±•</h3>

<p><strong>å±æ€§åˆå§‹å€¼çš„ç®€å†™</strong>- æœ‰æ—¶å€™ï¼Œå¯¹è±¡çš„å±æ€§åå’Œå‡½æ•°çš„å‚æ•°ç›¸åŒï¼Œå¯ä»¥ä½¿ç”¨ç®€å†™æ–¹å¼ã€‚æ¯”å¦‚ï¼š</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">createPerson</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="na">name</span><span class="p">:</span> <span class="nx">name</span><span class="p">,</span>
        <span class="na">age</span><span class="p">:</span> <span class="nx">age</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ç®€å†™</span>
<span class="kd">function</span> <span class="nx">createPerson</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="nx">name</span><span class="p">,</span>
        <span class="nx">age</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>å¯¹è±¡æ–¹æ³•çš„ç®€å†™</strong>- es6 ä¸­å¯ä»¥æ¶ˆé™¤å†’å·å’Œ <code class="highlighter-rouge">function</code> å…³é”®å­—ã€‚ç®€å†™æ–¹å¼å¯ä»¥ä½¿ç”¨ <code class="highlighter-rouge">super</code> å…³é”®å­—</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">xiaoke</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">sayName</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// do something</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ç®€å†™</span>
<span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">xiaoke</span><span class="dl">'</span><span class="p">,</span>
    <span class="nx">sayName</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// do something</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>å¯è®¡ç®—å±æ€§</strong>- es6 ä¸­å±æ€§å¯ä»¥é€šè¿‡è®¡ç®—å¾—åˆ°ï¼Œå³ä½¿ç”¨ä¸€ä¸ªæ–¹æ‹¬å· <code class="highlighter-rouge">[]</code></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">suffix</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">name</span><span class="dl">'</span>
<span class="kd">let</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">[</span><span class="dl">'</span><span class="s1">first</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">suffix</span><span class="p">]</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">yuer</span><span class="dl">'</span><span class="p">,</span>
    <span class="p">[</span><span class="dl">'</span><span class="s1">last</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">suffix</span><span class="p">]</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">mao</span><span class="dl">'</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="objectprototypeçš„æ–°å¢æ–¹æ³•">Object.prototypeçš„æ–°å¢æ–¹æ³•</h3>

<p><code class="highlighter-rouge">Object.is()</code> - ç”¨æ¥è§£å†³ <code class="highlighter-rouge">===</code> è¯¯åˆ¤çš„æƒ…å†µ</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="o">+</span><span class="mi">0</span> <span class="o">===</span> <span class="o">-</span><span class="mi">0</span><span class="p">)</span> <span class="c1">// true å®é™…ä¸Šæ˜¯ä¸¤ä¸ªå®Œå…¨ä¸åŒçš„å®ä½“</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="o">+</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">0</span><span class="p">))</span> <span class="c1">// false</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="kc">NaN</span> <span class="o">===</span> <span class="kc">NaN</span><span class="p">)</span> <span class="c1">// false å®é™…ä¸Šæ˜¯å®Œå…¨ä¸€æ ·çš„</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="kc">NaN</span><span class="p">,</span> <span class="kc">NaN</span><span class="p">))</span> <span class="c1">// true</span>
</code></pre></div></div>

<blockquote>
  <p>NaN è¿˜å¯ä»¥ä½¿ç”¨ <code class="highlighter-rouge">isNaN()</code> æ¥è¿›è¡Œåˆ¤æ–­</p>
</blockquote>

<p><code class="highlighter-rouge">Object.assign()</code> - æ··åˆ(mixin)æ“ä½œï¼Œå³ä¸€ä¸ªå¯¹è±¡æ¥æ”¶æ¥è‡ªå¦ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">receiver</span> <span class="o">=</span> <span class="p">{}</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="nx">receiver</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">js</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">yuer</span><span class="dl">'</span>
<span class="p">},</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">css</span><span class="dl">'</span>
<span class="p">})</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">receiver</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span> <span class="c1">// css æ³¨æ„ï¼ŒåŒåå±æ€§ï¼Œå‰è€…è¢«è¦†ç›–</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">receiver</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span> <span class="c1">// yuer</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">Object.assign</code> è¿›è¡Œçš„æ˜¯<strong>æµ…æ‹·è´</strong>ï¼Œå¦‚æœæºå¯¹è±¡çš„å±æ€§å€¼æ˜¯ä¸€ä¸ªæŒ‡å‘å¯¹è±¡çš„å¼•ç”¨ï¼Œåªæ‹·è´å¼•ç”¨å€¼ã€‚</p>

<p>å®é™…ä¸Šï¼Œä¹Ÿä¸æ˜¯ä¸€ä¸ªä¸€èˆ¬çš„â€œæµ…æ‹·è´â€ï¼Œåªæ˜¯ä¸€çº§å±æ€§çš„æ‹·è´ï¼Œè€Œæ²¡æœ‰ç»§ç»­é€’å½’åšä¸‹ä¸€å±‚æ‹·è´ã€‚å› æ­¤ï¼Œç”¨æ¥â€œæ·±æ‹·è´â€å¯¹è±¡æ˜¯ä¸å¯ä»¥çš„ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">supplier</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">sex</span><span class="p">:</span> <span class="dl">'</span><span class="s1">male</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">yuer</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">lover</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">xiaoke</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">age</span><span class="p">:</span> <span class="mi">22</span>
    <span class="p">},</span>
    <span class="na">favorite</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">junk food</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">meat</span><span class="dl">'</span><span class="p">]</span>
<span class="p">}</span>
<span class="kd">let</span> <span class="nx">cloneReceiver</span> <span class="o">=</span> <span class="nx">supplier</span>
<span class="kd">let</span> <span class="nx">DeepCloneReceiver</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">({},</span><span class="nx">supplier</span><span class="p">)</span>

<span class="nx">supplier</span><span class="p">.</span><span class="nx">sex</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">female</span><span class="dl">'</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">supplier</span><span class="p">.</span><span class="nx">sex</span><span class="p">,</span> <span class="nx">cloneReceiver</span><span class="p">.</span><span class="nx">sex</span><span class="p">,</span> <span class="nx">DeepCloneReceiver</span><span class="p">.</span><span class="nx">sex</span><span class="p">,)</span>

<span class="nx">supplier</span><span class="p">.</span><span class="nx">lover</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="mi">23</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">supplier</span><span class="p">.</span><span class="nx">lover</span><span class="p">.</span><span class="nx">age</span><span class="p">,</span> <span class="nx">cloneReceiver</span><span class="p">.</span><span class="nx">lover</span><span class="p">.</span><span class="nx">age</span><span class="p">,</span> <span class="nx">DeepCloneReceiver</span><span class="p">.</span><span class="nx">lover</span><span class="p">.</span><span class="nx">age</span><span class="p">)</span>

<span class="nx">supplier</span><span class="p">.</span><span class="nx">favorite</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="dl">'</span><span class="s1">yogurt</span><span class="dl">'</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">supplier</span><span class="p">.</span><span class="nx">favorite</span><span class="p">,</span> <span class="nx">cloneReceiver</span><span class="p">.</span><span class="nx">favorite</span><span class="p">,</span> <span class="nx">DeepCloneReceiver</span><span class="p">.</span><span class="nx">favorite</span><span class="p">)</span>
<span class="cm">/*
female female male
23 23 23
[ 'junk food', 'meat', 'yogurt' ] [ 'junk food', 'meat', 'yogurt' ] [ 'junk food', 'meat', 'yogurt' ]
*/</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">Object.assign</code> è¿˜æœ‰ä¸€ä¸ªè¯­ä¹‰åŒ–åŠŸèƒ½æ˜¯åˆå¹¶å¯¹è±¡ï¼š</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">o1</span> <span class="o">=</span> <span class="p">{</span> <span class="na">a</span><span class="p">:</span> <span class="mi">1</span> <span class="p">};</span>
<span class="kd">let</span> <span class="nx">o2</span> <span class="o">=</span> <span class="p">{</span> <span class="na">b</span><span class="p">:</span> <span class="mi">2</span> <span class="p">};</span>
<span class="kd">let</span> <span class="nx">o3</span> <span class="o">=</span> <span class="p">{</span> <span class="na">c</span><span class="p">:</span> <span class="mi">3</span> <span class="p">};</span>
<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="nx">o1</span><span class="p">,</span> <span class="nx">o2</span><span class="p">,</span> <span class="nx">o3</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span> <span class="c1">// { a: 1, b: 2, c: 3 }</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">o1</span><span class="p">);</span>  <span class="c1">// { a: 1, b: 2, c: 3 }</span>
</code></pre></div></div>

<h3 id="å…è®¸é‡å¤çš„å¯¹è±¡å­—é¢é‡å±æ€§">å…è®¸é‡å¤çš„å¯¹è±¡å­—é¢é‡å±æ€§</h3>

<p>è¿™ä¸€ç‚¹ï¼Œåœ¨ä¹‹å‰çš„æ ‡å‡†åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹æ˜¯ä¸å…è®¸çš„ï¼Œç°åœ¨æ˜¯å¯ä»¥äº†ã€‚</p>

<h3 id="è‡ªæœ‰å±æ€§çš„æšä¸¾é¡ºåº">è‡ªæœ‰å±æ€§çš„æšä¸¾é¡ºåº</h3>

<p>es5 æœªå®šä¹‰å¯¹è±¡å±æ€§çš„æšä¸¾é¡ºåºï¼Œè€Œç”±å‚å•†è‡ªè¡Œå†³å®šã€‚ç°åœ¨åšäº†å¦‚ä¸‹è§„å®šï¼š</p>

<ol>
  <li>æ‰€æœ‰æ•°å­—é”®æŒ‰å‡åº</li>
  <li>æ‰€æœ‰å­—ç¬¦ä¸²æŒ‰ç…§å®ƒä»¬è¢«åŠ å…¥å¯¹è±¡çš„é¡ºåº</li>
  <li>æ‰€æœ‰ <code class="highlighter-rouge">symbol</code> é”®æŒ‰ç…§å®ƒä»¬è¢«åŠ å…¥å¯¹è±¡çš„é¡ºåº</li>
</ol>

<p>è¿™ä¼šå½±å“åˆ° <code class="highlighter-rouge">Object.getOwnPropertyName()</code> å’Œ <code class="highlighter-rouge">Refect.ownkeys</code> è¿”å›å±æ€§çš„æ–¹å¼ã€‚</p>

<blockquote>
  <p><code class="highlighter-rouge">for...in</code> çš„æšä¸¾é¡ºåºå¹¶æœªæ˜ç¡®ï¼Œè€Œ <code class="highlighter-rouge">Object.keys()</code> å’Œ <code class="highlighter-rouge">JSON.stringfy()</code> æ–¹æ³•éƒ½ä¾èµ– <code class="highlighter-rouge">for...in</code> çš„æšä¸¾é¡ºåºï¼Œå› æ­¤ä¹Ÿæœªæ˜ç¡®ã€‚</p>
</blockquote>

<h3 id="æ–¹æ³•çš„å®šä¹‰">æ–¹æ³•çš„å®šä¹‰</h3>

<p>åœ¨ es6 ä¹‹å‰ï¼Œæ²¡æœ‰<strong>æ–¹æ³•</strong>è¿™ä¸ªæ ‡å‡†çš„å®šä¹‰ï¼Œç¤¾åŒºå¯¹æ–¹æ³•çš„å®šä¹‰æ˜¯ï¼šä¸€ä¸ªå…·æœ‰åŠŸèƒ½è€Œéæ•°æ®çš„å±æ€§ã€‚</p>

<p>es6 æ­£å¼å°†æ–¹æ³•å®šä¹‰ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œä½¿ç”¨å†…éƒ¨å±æ€§ <code class="highlighter-rouge">[[HomeObject]]</code> æ¥å®¹çº³è¿™ä¸ªæ–¹æ³•ä»å±çš„å¯¹è±¡ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1">//method</span>
    <span class="nx">getGreeting</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="dl">"</span><span class="s2">hello</span><span class="dl">"</span>
    <span class="p">}</span>
<span class="p">};</span>
<span class="c1">//function</span>
<span class="kd">function</span> <span class="nx">shareGreeting</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="dl">"</span><span class="s2">hi!</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ<code class="highlighter-rouge">getGreeting()</code> æœ‰å†…éƒ¨å±æ€§ <code class="highlighter-rouge">[[HomeObject]]</code> çš„å€¼ä¸º <code class="highlighter-rouge">person</code>ï¼Œè€Œ <code class="highlighter-rouge">shareGreeting()</code> ä¸æ˜¯æ–¹æ³•ï¼Œæ²¡æœ‰è¿™ä¸ªå†…éƒ¨å±æ€§ã€‚</p>

<p>è¿™ä¸ªå†…éƒ¨å±æ€§å…³ç³»åˆ° <code class="highlighter-rouge">super</code> çš„ä½¿ç”¨ã€‚</p>

<ul>
  <li>é¦–å…ˆï¼Œåœ¨ <code class="highlighter-rouge">[[HomeObject]]</code> å±æ€§ä¸Šè°ƒç”¨ <code class="highlighter-rouge">Object.getPrototypeOf()</code> æ¥æ£€ç´¢åŸå‹çš„å¼•ç”¨</li>
  <li>ç„¶åï¼Œæœå¯»åŸå‹æ‰¾åˆ°åŒåå‡½æ•°</li>
  <li>æœ€åï¼Œè®¾ç½® <code class="highlighter-rouge">this</code> ç»‘å®šå¹¶ä¸”è°ƒç”¨ç›¸åº”çš„æ–¹æ³•</li>
</ul>

<hr />

<h2 id="å¢å¼ºå¯¹è±¡åŸå‹">å¢å¼ºå¯¹è±¡åŸå‹</h2>
<h3 id="æ”¹å˜å¯¹è±¡çš„åŸå‹">æ”¹å˜å¯¹è±¡çš„åŸå‹</h3>

<p>es6 å…è®¸é€šè¿‡ <code class="highlighter-rouge">Object.setPrototypeOf()</code> æ–¹æ³•æ¥æ”¹å˜æŒ‡å®šå¯¹è±¡çš„åŸå‹ã€‚</p>

<blockquote>
  <p>å¯¹è±¡åŸå‹çš„çœŸå®å€¼å­˜æ”¾åœ¨å†…éƒ¨å±æ€§ [[Prototype]] ä¸­ï¼Œè°ƒç”¨ <code class="highlighter-rouge">Object.getPrototypeOf()</code> è¿”å›</p>
</blockquote>

<p>### super å¼•ç”¨ï¼šç®€åŒ–åŸå‹è®¿é—®</p>

<p><code class="highlighter-rouge">super</code> å¼•ç”¨æŒ‡å‘å¯¹è±¡åŸå‹ã€‚å¿…é¡»åœ¨ç®€å†™æ–¹æ³•çš„å¯¹è±¡ä¸­ä½¿ç”¨ <code class="highlighter-rouge">super</code> ã€‚</p>

<hr />

<h2 id="è§£æ„">è§£æ„</h2>

<p>what is Destructuring forâ€¦</p>

<p>ç¼–ç è¿‡ç¨‹ä¸­å®šä¹‰å¾ˆå¤šæ•°ç»„å’Œå¯¹è±¡ï¼Œéœ€è¦æœ‰ç»„ç»‡åœ°ä»ä¸­æå–ç›¸å…³çš„ä¿¡æ¯ç‰‡æ®µ - è§£æ„å°±æ˜¯æœç€è¿™ä¸€ç›®çš„å‡ºå‘ï¼Œæ‰“ç ´æ•°æ®ç»“æ„ï¼Œå°†å…¶æ‹†åˆ†ä¸ºæ›´å°éƒ¨åˆ†çš„è¿‡ç¨‹ã€‚</p>

<blockquote>
  <p>æ³¨æ„ï¼Œè§£æ„éƒ½æ”¾åœ¨èµ‹å€¼è¯­å¥çš„å·¦ä¾§ï¼Œä¸”éœ€è¦æä¾›åˆå§‹åŒ–</p>
  <h3 id="å¯¹è±¡è§£æ„">å¯¹è±¡è§£æ„</h3>
</blockquote>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">lover</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">yuer</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">age</span><span class="p">:</span> <span class="mi">18</span>
<span class="p">}</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">}</span> <span class="o">=</span> <span class="nx">lover</span>

<span class="c1">//or </span>
<span class="kd">let</span> <span class="nx">lover</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">yuer</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">age</span><span class="p">:</span> <span class="mi">18</span>
<span class="p">},</span>
    <span class="nx">name</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">xiaoke</span><span class="dl">'</span><span class="p">,</span>
    <span class="nx">age</span> <span class="o">=</span> <span class="mi">20</span>
<span class="p">({</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">}</span> <span class="o">=</span> <span class="nx">lover</span><span class="p">)</span>  <span class="c1">//éœ€è¦æ‹¬å·ï¼Œè¿™å¾ˆå¥½ç†è§£ã€‚</span>

<span class="c1">// é»˜è®¤å€¼</span>
<span class="kd">let</span> <span class="nx">lover</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">yuer</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">age</span><span class="p">:</span> <span class="mi">18</span>
<span class="p">}</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">,</span> <span class="nx">value</span> <span class="o">=</span> <span class="kc">true</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">lover</span>
</code></pre></div></div>

<blockquote>
  <p>å³ä¾§å¦‚æœæ˜¯ null æˆ– undefined å°±ä¼šæŠ›å‡ºé”™è¯¯</p>
</blockquote>

<h4 id="ä¸ºéåŒåå±€éƒ¨å˜é‡èµ‹å€¼">ä¸ºéåŒåå±€éƒ¨å˜é‡èµ‹å€¼</h4>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">lover</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">yuer</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">age</span><span class="p">:</span> <span class="mi">18</span>
<span class="p">}</span>
<span class="kd">let</span> <span class="p">{</span><span class="na">name</span><span class="p">:</span> <span class="nx">localName</span><span class="p">,</span> <span class="na">age</span><span class="p">:</span> <span class="nx">localAge</span><span class="p">}</span> <span class="o">=</span> <span class="nx">lover</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">localName</span><span class="p">)</span> <span class="c1">// 'yuer'</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">localAge</span><span class="p">)</span> <span class="c1">// 18</span>
</code></pre></div></div>

<h4 id="åµŒå¥—å¯¹è±¡è§£æ„">åµŒå¥—å¯¹è±¡è§£æ„</h4>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">lover</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">yuer</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">age</span><span class="p">:</span> <span class="mi">18</span><span class="p">,</span>
    <span class="na">loc</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">start</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">line</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="na">column</span><span class="p">:</span> <span class="mi">1</span>
        <span class="p">},</span>
        <span class="na">end</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">line</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="na">column</span><span class="p">:</span> <span class="mi">4</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="p">{</span><span class="na">loc</span><span class="p">:</span> <span class="p">{</span><span class="nx">start</span><span class="p">}}</span> <span class="o">=</span> <span class="nx">lover</span>

<span class="c1">// è¿˜å¯ä»¥æ›¿æ¢åç§°</span>
<span class="kd">let</span> <span class="p">{</span><span class="na">loc</span><span class="p">:</span> <span class="p">{</span><span class="na">start</span><span class="p">:</span> <span class="nx">localStart</span><span class="p">}}</span> <span class="o">=</span> <span class="nx">lover</span>
</code></pre></div></div>

<h3 id="æ•°ç»„è§£æ„">æ•°ç»„è§£æ„</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">colors</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">red</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">yellow</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">blue</span><span class="dl">'</span><span class="p">]</span>
<span class="kd">let</span> <span class="p">[</span> <span class="p">,</span> <span class="nx">secondColor</span><span class="p">,</span> <span class="nx">thirdColor</span><span class="p">]</span> <span class="o">=</span> <span class="nx">colors</span>

<span class="c1">//or</span>
<span class="kd">let</span> <span class="nx">colors</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">red</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">yellow</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">blue</span><span class="dl">'</span><span class="p">]</span><span class="err">ï¼Œ</span>
    <span class="nx">secondColor</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">black</span><span class="dl">'</span><span class="p">,</span>
    <span class="nx">third</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">purple</span><span class="dl">'</span>
<span class="p">[,</span> <span class="nx">secondColor</span><span class="p">,</span> <span class="nx">thirdColor</span><span class="p">]</span> <span class="o">=</span> <span class="nx">colors</span> <span class="c1">//æ³¨æ„ï¼Œä¸éœ€è¦å¤§æ‹¬å·</span>
</code></pre></div></div>

<h4 id="äº¤æ¢">äº¤æ¢</h4>

<p>es6 ä¸­äº¤æ¢å˜é‡ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span>
<span class="p">[</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">b</span><span class="p">,</span> <span class="nx">a</span><span class="p">]</span>
</code></pre></div></div>

<p>æ³¨æ„ï¼Œå·¦è¾¹æ˜¯ä¸€ä¸ªè§£æ„æ¨¡å¼ï¼Œå³ä¾§æ˜¯ä¸€ä¸ªä¸´æ—¶åˆ›å»ºçš„æ•°ç»„å­—é¢é‡ã€‚</p>

<p>é»˜è®¤å€¼å’ŒåµŒå¥—æ•°ç»„è§£æ„ å’Œ å¯¹è±¡è§£æ„éƒ½å·®ä¸å¤šã€‚</p>

<h4 id="ä¸å®šå‚æ•°å’Œä¸å®šå…ƒç´ ">ä¸å®šå‚æ•°å’Œä¸å®šå…ƒç´ </h4>

<p>æ•°ç»„è§£æ„ä¸­åˆä¸€ä¸ªä¸å®šå…ƒç´ çš„æ¦‚å¿µä¸å‡½æ•°å‚æ•°ä¸­çš„ä¸å®šå‚æ•°çš„æ¦‚å¿µæœ‰ç‚¹ç±»ä¼¼ï¼Œéƒ½æ˜¯ä½¿ç”¨ spread è¿ç®—ç¬¦ (<code class="highlighter-rouge">...</code>) æ¥å®ç°ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">colors</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">red</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">green</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">blue</span><span class="dl">'</span><span class="p">]</span>
<span class="kd">let</span> <span class="p">[</span><span class="nx">firstColor</span><span class="p">,</span> <span class="p">...</span><span class="nx">restColors</span><span class="p">]</span> <span class="o">=</span> <span class="nx">colors</span>
</code></pre></div></div>

<h3 id="è§£æ„ç”¨åœ¨å‡½æ•°å‚æ•°ä¼ é€’">è§£æ„ç”¨åœ¨å‡½æ•°å‚æ•°ä¼ é€’</h3>

<p>å½“å®šä¹‰æ¥å—å¤§é‡å¯é€‰å‚æ•°çš„æ—¶å€™ï¼Œå¯é‡‡ç”¨è§£æ„ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//ä¸€èˆ¬ï¼Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœsetCookieä¸æä¾›ç¬¬ä¸‰ä¸ªå‚æ•°ä¼šæŠ¥é”™ï¼Œè¿™æ˜¯å› ä¸ºè§£æ„çš„å³ä¾§ä¸º null å’Œ undefined ä¼šæŠ¥é”™</span>
<span class="kd">function</span> <span class="nx">setCookie</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="p">{</span> <span class="nx">secure</span><span class="p">,</span> <span class="nx">path</span><span class="p">,</span> <span class="nx">domain</span><span class="p">,</span> <span class="nx">expires</span><span class="p">})</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span>
<span class="nx">setCookie</span><span class="p">(</span><span class="dl">'</span><span class="s1">type</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">js</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">secure</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">expires</span><span class="p">:</span> <span class="mi">600000</span>
<span class="p">})</span>

<span class="c1">//å¯ä»¥æ”¹æˆè¿™æ ·</span>
<span class="kd">function</span> <span class="nx">setCookie</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="p">{</span> <span class="nx">secure</span><span class="p">,</span> <span class="nx">path</span><span class="p">,</span> <span class="nx">domain</span><span class="p">,</span> <span class="nx">expires</span><span class="p">}</span> <span class="o">=</span> <span class="p">{})</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span>
</code></pre></div></div>

<p>è§£æ„å‚æ•°å«æœ‰é»˜è®¤å€¼æ—¶çš„å†™æ³•å¦‚ä½•ï¼Ÿ</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">setCookieDefaults</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">secure</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="na">path</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">domain</span><span class="p">:</span> <span class="dl">"</span><span class="s2">xiaokedada.com</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">expires</span><span class="p">:</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">Data</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">+</span> <span class="mi">360000000</span><span class="p">)</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">setCookie</span> <span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">value</span><span class="p">,{</span>
    <span class="nx">secure</span> <span class="o">=</span> <span class="nx">setCookieDefaults</span><span class="p">.</span><span class="nx">secure</span><span class="p">,</span>
    <span class="nx">path</span> <span class="o">=</span> <span class="nx">setCookieDefaults</span><span class="p">.</span><span class="nx">path</span><span class="p">,</span>
    <span class="nx">domain</span> <span class="o">=</span> <span class="nx">setCookieDefaults</span><span class="p">.</span><span class="nx">domain</span><span class="p">,</span>
    <span class="nx">expires</span> <span class="o">=</span> <span class="nx">setCookieDefaults</span><span class="p">.</span><span class="nx">expires</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">setCookieDefauts</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span>
</code></pre></div></div>

<hr />

<h2 id="set-å’Œ-map">Set å’Œ Map</h2>

<p>What is Set and Map forâ€¦</p>

<p>Set å’Œ Map çš„è¯­ä¹‰æ€§éå¸¸å¼ºï¼ŒSet æ˜¯ä¸€ç§<strong>æ— åº</strong>å…ƒç´ çš„é›†åˆï¼Œæ£€æµ‹æŸä¸ªå…ƒç´ æ˜¯å¦å­˜åœ¨ï¼› Map æ˜¯ä¸€ç§é”®å€¼å¯¹é›†åˆï¼Œç»å¸¸ç”¨æ¥ç¼“å­˜ç»å¸¸å–ç”¨çš„æ•°æ®ã€‚</p>

<p>Set çš„ä¸€äº›æ–¹æ³•å’Œå±æ€§ï¼š</p>

<ul>
  <li>new Set() - åˆ›å»º Set é›†åˆ</li>
  <li>add() - æ·»åŠ å…ƒç´ </li>
  <li>size - å…ƒç´ æ•°é‡</li>
  <li>delete() - ç§»é™¤æŸä¸ªå…ƒç´ </li>
  <li>clear() - ç§»é™¤æ‰€æœ‰å…ƒç´ </li>
  <li>forEach() - éå†å…ƒç´ </li>
</ul>

<p>å°±ç®— Set æœ‰ <code class="highlighter-rouge">forEach()</code> æ³•å¯ä»¥æ“ä½œé›†åˆä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œä½†æ˜¯ä¸èƒ½é€šè¿‡ç´¢å¼•è¿›è¡Œè®¿é—®ã€‚</p>

<p>å¯ä»¥è½¬æ¢æˆæ•°ç»„ã€‚é‡‡ç”¨çš„æ˜¯ spread æ‰©å±•ç¬¦</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="kd">set</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Set</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span> <span class="c1">// åˆå§‹åŒ–</span>
<span class="kd">let</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">[...</span><span class="kd">set</span><span class="p">]</span>
</code></pre></div></div>

<h3 id="weakset">WeakSet</h3>

<p>What is WeakSet forâ€¦</p>

<p>é’ˆå¯¹ Set ä¸­å­˜å‚¨å¯¹è±¡çš„æƒ…å†µï¼Œåƒåœ¾å›æ”¶å™¨æœºåˆ¶ä¸èƒ½é‡Šæ”¾æ”¹å¯¹è±¡çš„å†…å­˜ç©ºé—´ï¼Œæ˜¯ä¸€ä¸ª<strong>å¼ºå¼•ç”¨</strong>ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="kd">set</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Set</span><span class="p">()</span>
<span class="kd">let</span> <span class="nx">key</span> <span class="o">=</span> <span class="p">{}</span>
<span class="kd">set</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">key</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="kd">set</span><span class="p">.</span><span class="nx">size</span><span class="p">)</span> <span class="c1">// 1</span>

<span class="c1">//ç§»é™¤åŸå§‹å¼•ç”¨</span>
<span class="nx">key</span> <span class="o">=</span> <span class="kc">null</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="kd">set</span><span class="p">.</span><span class="nx">size</span><span class="p">)</span> <span class="c1">//1</span>

<span class="c1">//é‡æ–°å–å›</span>
<span class="nx">key</span> <span class="o">=</span> <span class="p">[...</span><span class="kd">set</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div></div>

<p>WeakSet å°±æ˜¯é’ˆå¯¹è¿™ä¸ªé—®é¢˜æå‡ºæ¥çš„ï¼Œæ”¯æŒä¸‰ä¸ªæ–¹æ³•ï¼š</p>

<ul>
  <li>add()</li>
  <li>has()</li>
  <li>delete()</li>
</ul>

<p>å’Œæ™®é€š Set é›†åˆæœ‰å‡ ä¸ªä¸åŒç‚¹ï¼š</p>

<ul>
  <li>å‘ <code class="highlighter-rouge">add()</code>ã€<code class="highlighter-rouge">has()</code> å’Œ <code class="highlighter-rouge">delete()</code> ä¸‰ä¸ªæ–¹æ³•ä¼ å…¥éå¯¹è±¡å‚æ•°ä¼šæŠ¥é”™</li>
  <li>WeakSet é›†åˆä¸å¯è¢«è¿­ä»£</li>
  <li>ä¸æ”¯æŒ size å±æ€§</li>
</ul>

<p>Map é›†åˆå­˜å‚¨çš„æ˜¯é”®å€¼å¯¹é›†åˆã€‚æ–¹æ³•å’Œå±æ€§ï¼š</p>

<ul>
  <li>set() - ä¼ å…¥é”®åå’Œå¯¹åº”å€¼</li>
  <li>get()</li>
  <li>has()</li>
  <li>delete()</li>
  <li>clear()</li>
  <li>forEach()</li>
</ul>

<p>åˆå§‹åŒ–ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">map</span><span class="p">([[</span><span class="dl">'</span><span class="s1">name</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">xiaoke</span><span class="dl">'</span><span class="p">],</span> <span class="p">[</span><span class="dl">'</span><span class="s1">title</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">love yuer</span><span class="dl">'</span><span class="p">]])</span> <span class="c1">// äºŒç»´æ•°ç»„</span>
</code></pre></div></div>

<p>Map é›†åˆå’Œä¼ ç»Ÿå¯¹è±¡çš„åŒºåˆ«ï¼š</p>

<ul>
  <li>Map é”®å’Œå€¼å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼ŒObject åªæ˜¯å­—ç¬¦ä¸²å’Œ Symbol ç±»å‹</li>
  <li>Object å’Œ Map è¿­ä»£æ–¹å¼ä¸ä¸€è‡´</li>
</ul>

<h3 id="weakmap">WeakMap</h3>

<p>WeakMap çš„å¼•å…¥å’Œ WeakSet ç±»ä¼¼ï¼Œå…¶é”®åå¿…é¡»æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚WeakMap é›†åˆç›®å‰æœ€å¤§çš„ç”¨é€”æ˜¯ä¿å­˜ Web é¡µé¢ä¸­çš„ DOM å…ƒç´ ã€‚</p>

<hr />

<h2 id="æ”¹è¿›æ•°ç»„åŠŸèƒ½">æ”¹è¿›æ•°ç»„åŠŸèƒ½</h2>

<h3 id="arrayof-å’Œ-arrayfrom">Array.of() å’Œ Array.from()</h3>

<p>What is Array.of() forâ€¦</p>

<p>è§£å†³ä½¿ç”¨ <code class="highlighter-rouge">new Array()</code> æ€ªå¼‚ä¹‹å¤„ã€‚<code class="highlighter-rouge">Array.of()</code> åªåŒ…å«æ‹¬å·å†…çš„å…ƒç´ ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">items</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1">// åŒ…å«ä¸¤ä¸ªå…ƒç´ çš„æ•°ç»„ï¼Œ2 èµ‹å€¼ç»™ length</span>
<span class="kd">let</span> <span class="nx">items</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="c1">// åŒ…å«å…ƒç´ 1 å’Œ 2çš„æ•°ç»„</span>
<span class="kd">let</span> <span class="nx">items</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">(</span><span class="dl">'</span><span class="s1">2</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// åŒ…å«å…ƒç´  '2' çš„æ•°ç»„</span>

<span class="c1">//ä¸æ€ªå¼‚çš„ Array.of()</span>
<span class="kd">let</span> <span class="nx">items</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1">// åŒ…å«å…ƒç´ 2 çš„æ•°ç»„</span>
<span class="kd">let</span> <span class="nx">items</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="c1">//åŒ…å«å…ƒç´  1 å’Œ 2çš„æ•°ç»„</span>
<span class="kd">let</span> <span class="nx">items</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="dl">'</span><span class="s1">2</span><span class="dl">'</span><span class="p">)</span> <span class="c1">//åŒ…å«å…ƒç´  '2' çš„æ•°ç»„</span>
</code></pre></div></div>

<p>What is Array.from() forâ€¦</p>

<p>è§£å†³ç±»æ•°ç»„è½¬æ¢ä¸ºæ•°ç»„çš„é—®é¢˜ã€‚å½“ç„¶ï¼Œè¿™ä¸ªæ–¹æ³•ä¹Ÿæ¥å—å¯è¿­ä»£çš„å¯¹è±¡</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ä¼ ç»Ÿçš„è§£å†³æ–¹æ³•</span>
<span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arrayLike</span><span class="p">)</span>

<span class="c1">//è¯­ä¹‰æ¸…æ™°çš„æ–¹æ³•</span>
<span class="nb">Array</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">arrayLike</span><span class="p">)</span>
</code></pre></div></div>

<p>Array.from() çš„ç¬¬äºŒä¸ªå‚æ•°è¿˜èƒ½æä¾›ä¸€ä¸ª<strong>æ˜ å°„å‡½æ•°</strong>ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">translate</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">Array</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span> <span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">value</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">}</span>
<span class="kd">let</span> <span class="nx">numbers</span> <span class="o">=</span> <span class="nx">translate</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="c1">// 2, 3, 4</span>
</code></pre></div></div>

<p>å¦‚æœä¼ å…¥ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼ŒArray.from() å¯æä¾›å‚æ•°æ¥æŒ‡å®š this çš„å€¼ã€‚</p>

<h3 id="å…¶ä»–æ–¹æ³•">å…¶ä»–æ–¹æ³•</h3>

<h4 id="find-å’Œ-findindex">find() å’Œ findIndex()</h4>

<p>å‡½æ•°çš„è¯­ä¹‰ï¼š åœ¨æ•°ç»„ä¸­æ ¹æ®æŸä¸ªæ¡ä»¶æŸ¥æ‰¾åŒ¹é…çš„å…ƒç´ </p>

<p>å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªå›è°ƒå‡½æ•°å’Œä¸€ä¸ªå¯é€‰å‚æ•°ï¼ŒæŒ‡å®šå›è°ƒå‡½æ•°çš„ this çš„å€¼</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">25</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">45</span><span class="p">]</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">numbers</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="nx">n</span> <span class="o">=&gt;</span> <span class="nx">n</span> <span class="o">&gt;</span> <span class="mi">33</span><span class="p">))</span> <span class="c1">// 35</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">numbers</span><span class="p">.</span><span class="nx">findIndex</span><span class="p">(</span> <span class="nx">n</span> <span class="o">=&gt;</span> <span class="nx">n</span> <span class="o">&gt;</span> <span class="mi">33</span><span class="p">))</span> <span class="c1">//2</span>
</code></pre></div></div>

<blockquote>
  <p>indexOf() å’Œ lastIndexOf() çš„è¯­ä¹‰ï¼šæŸ¥æ‰¾ä¸æŸä¸ªå€¼åŒ¹é…çš„å…ƒç´ </p>
</blockquote>

<h4 id="fill">fill()</h4>

<p>å¡«å……ä¸€ä¸ªæˆ–å¤šä¸ªæ•°ç»„å…ƒç´ ã€‚æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼šè¦å¡«å……çš„å…ƒç´ ã€èµ·å§‹ç´¢å¼•å’Œç»“æŸç´¢å¼•ã€‚åä¸¤è€…éƒ½æ˜¯å¯é€‰çš„ï¼Œæ ‡è®°æ–¹å¼æ˜¯å‰é—­åå¼€ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="nx">numbers</span><span class="p">.</span><span class="nx">fill</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="c1">// 1, 0, 0, 4</span>
</code></pre></div></div>

<h4 id="copywithin">copyWithin()</h4>

<p>ä»æ•°ç»„ä¸­å¤åˆ¶å…ƒç´ ã€‚æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šå¡«å……å€¼çš„ç´¢å¼•ä½ç½®ï¼Œå¤åˆ¶å€¼çš„ç´¢å¼•ä½ç½®</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="nx">numbers</span><span class="p">.</span><span class="nx">copyWithin</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="c1">//1,2,1,2</span>
</code></pre></div></div>

<h3 id="å®šå‹æ•°ç»„">å®šå‹æ•°ç»„</h3>

<p>What is å®šå‹æ•°ç»„ forâ€¦</p>

<p>å®šå‹æ•°ç»„æ˜¯ WebGL å¼•å…¥çš„ï¼Œç”±äº JavaScript ä¸­ï¼Œæ•°å­—æ˜¯ä»¥ 64 ä½æµ®ç‚¹æ ¼å¼å­˜å‚¨çš„ï¼Œç„¶åè¿›è¡Œ <code class="highlighter-rouge">ToInt32</code> æ“ä½œï¼Œæ‰€ä»¥ç®—æœ¯è¿ç®—å¾ˆæ…¢ï¼Œæ— æ³•æ»¡è¶³è®¡ç®—éœ€æ±‚ã€‚</p>

<p>å®šå‹æ•°ç»„ï¼š å°†ä»»æ„æ•°å­—è½¬æ¢ä¸ºä¸€ä¸ªåŒ…å«æ•°å­—æ¯”ç‰¹çš„æ•°ç»„ã€‚ä¸“é—¨ç”¨æ¥å¤„ç†æ•°å€¼ç±»å‹çš„ã€‚</p>

<hr />

<h2 id="class">Class</h2>

<h3 id="ç±»çš„å£°æ˜">ç±»çš„å£°æ˜</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">PersonClass</span> <span class="p">{</span>
    <span class="kd">constructor</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span>
    <span class="p">}</span>
    <span class="nx">sayName</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// do something</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kd">let</span> <span class="nx">person</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PersonClass</span><span class="p">(</span><span class="dl">'</span><span class="s1">yuer</span><span class="dl">'</span><span class="p">)</span>
<span class="nx">person</span><span class="p">.</span><span class="nx">sayName</span><span class="p">()</span>
</code></pre></div></div>

<p>ç‰¹ç‚¹ã€‚</p>

<ul>
  <li>å‡½æ•°å£°æ˜å¯ä»¥è¢«æå‡ã€‚è€Œç±»å£°æ˜å’Œ let ç±»ä¼¼ï¼Œå­˜åœ¨æš‚æ—¶æ€§æ­»åŒºçš„é—®é¢˜</li>
  <li>ç±»å£°æ˜ä¸­çš„è¯­å¥å¼ºåˆ¶è¿è¡Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹</li>
  <li>ç±»ä¸­çš„æ–¹æ³•éƒ½æ˜¯ä¸å¯æšä¸¾çš„</li>
  <li>ç±»ä¸­éƒ½æœ‰ä¸€ä¸ª <code class="highlighter-rouge">[[Construct]]</code> çš„å†…éƒ¨æ–¹æ³•</li>
  <li>åœ¨ç±»ä¸­ä¿®æ”¹ç±»åä¼šæŠ¥é”™</li>
  <li>ç±»ä¹Ÿæ˜¯ä¸€ç­‰å…¬æ°‘</li>
</ul>

<p>æœ‰æ„æ€çš„æ˜¯ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹å¦‚ä¸‹ä»£ç ï¼š</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">PersonClass</span><span class="p">)</span> <span class="c1">// function</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">PersonClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">sayName</span><span class="p">)</span> <span class="c1">// function</span>
</code></pre></div></div>

<h3 id="ç±»çš„è¡¨è¾¾å¼">ç±»çš„è¡¨è¾¾å¼</h3>

<p>å³å­—é¢é‡å½¢å¼ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">PersonClass</span> <span class="o">=</span> <span class="kd">class</span> <span class="p">{</span>
    <span class="kd">constructor</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span>
    <span class="p">}</span>
    <span class="nx">sayName</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// do something</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kd">let</span> <span class="nx">person</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PersonClass</span><span class="p">(</span><span class="dl">'</span><span class="s1">yuer</span><span class="dl">'</span><span class="p">)</span>
<span class="nx">person</span><span class="p">.</span><span class="nx">sayName</span><span class="p">()</span>
</code></pre></div></div>

<p>è¿˜æœ‰ä¸€ç§ç±»ä¼¼ IIFE çš„å†™æ³•ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">person</span> <span class="o">=</span> <span class="k">new</span> <span class="kd">class</span> <span class="p">{</span>
    <span class="kd">constructor</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span>
    <span class="p">}</span>
    <span class="nx">sayName</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// do something</span>
    <span class="p">}</span>
<span class="p">}(</span><span class="dl">'</span><span class="s1">yuer</span><span class="dl">'</span><span class="p">)</span>
<span class="nx">person</span><span class="p">.</span><span class="nx">sayName</span><span class="p">()</span> 
</code></pre></div></div>

<h3 id="å…¶ä»–ç‰¹ç‚¹">å…¶ä»–ç‰¹ç‚¹</h3>

<h4 id="è®¿é—®å™¨å±æ€§">è®¿é—®å™¨å±æ€§</h4>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">PersonClass</span> <span class="p">{</span>
    <span class="kd">constructor</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span>
    <span class="p">}</span>
    <span class="kd">get</span> <span class="nx">name</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span>
    <span class="p">}</span>
    <span class="kd">set</span> <span class="nx">name</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">value</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="å¯è®¡ç®—æˆå‘˜">å¯è®¡ç®—æˆå‘˜</h4>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">methodName</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">sayName</span><span class="dl">'</span>
<span class="kd">class</span> <span class="nx">PersonClass</span> <span class="p">{</span>
    <span class="kd">constructor</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span>
    <span class="p">}</span>
    <span class="p">[</span><span class="nx">methodName</span><span class="p">]()</span> <span class="p">{</span>
        <span class="c1">// do something</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="å®šä¹‰ç”Ÿæˆå™¨">å®šä¹‰ç”Ÿæˆå™¨</h4>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">MyClass</span> <span class="p">{</span>
    <span class="o">*</span><span class="nx">createIterator</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">yield</span> <span class="mi">1</span>
        <span class="k">yield</span> <span class="mi">2</span>
        <span class="k">yield</span> <span class="mi">3</span>
    <span class="p">}</span>
 <span class="p">}</span>
</code></pre></div></div>

<h4 id="é™æ€æˆå‘˜">é™æ€æˆå‘˜</h4>

<p>å®ä¾‹ä¸­ä¸å¯è®¿é—®é™æ€æˆå‘˜ï¼Œåªèƒ½ç›´æ¥åœ¨ç±»ä¸­è®¿é—®é™æ€æˆå‘˜ã€‚static å…³é”®å­—å¯ç”¨äºç±»ä¸­æ‰€æœ‰çš„æ–¹æ³•å’Œè®¿é—®å™¨å±æ€§ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">PersonClass</span> <span class="p">{</span>
    <span class="kd">constructor</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span>
    <span class="p">}</span>
    <span class="nx">sayName</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// do something</span>
    <span class="p">}</span>
    <span class="kd">static</span> <span class="nx">create</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nx">PersonClass</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kd">let</span> <span class="nx">person</span> <span class="o">=</span> <span class="nx">PersonClass</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="dl">'</span><span class="s1">yuer</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="ç»§æ‰¿å’Œæ´¾ç”Ÿ">ç»§æ‰¿å’Œæ´¾ç”Ÿ</h3>

<p><code class="highlighter-rouge">extends</code>å…³é”®å­—æŒ‡å®šç±»ç»§æ‰¿çš„å‡½æ•°ï¼Œ<code class="highlighter-rouge">super()</code> æ–¹æ³•å¯è®¿é—®åŸºç±»çš„æ„é€ å‡½æ•°ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">Rectangle</span> <span class="p">{</span>
    <span class="kd">constructor</span><span class="p">(</span><span class="nx">length</span><span class="p">,</span> <span class="nx">width</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">length</span> <span class="o">=</span> <span class="nx">length</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">length</span> <span class="o">=</span> <span class="nx">width</span>
    <span class="p">}</span>
    <span class="nx">getArea</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">length</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="nx">width</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kd">class</span> <span class="nx">Square</span> <span class="kd">extends</span> <span class="nx">Rectangle</span> <span class="p">{</span>
    <span class="kd">constructor</span><span class="p">(</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">super</span><span class="p">(</span><span class="nx">length</span><span class="p">,</span> <span class="nx">length</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">square</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Square</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="nx">square</span><span class="p">.</span><span class="nx">getArea</span><span class="p">()</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">super()</code>ï¼š</p>

<ul>
  <li>åªèƒ½åœ¨æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°ä¸­å®šä¹‰ <code class="highlighter-rouge">super()</code></li>
  <li>åœ¨æ„é€ å‡½æ•°ä¸­è®¿é—® <code class="highlighter-rouge">this</code> ä¹‹å‰ä¸€å®šè¦è°ƒç”¨ <code class="highlighter-rouge">super()</code>ï¼Œå®ƒè´Ÿè´£åˆå§‹åŒ– <code class="highlighter-rouge">this</code></li>
  <li>ä¸æƒ³è°ƒç”¨ <code class="highlighter-rouge">super()</code>ï¼Œå”¯ä¸€çš„æ–¹æ³•æ˜¯è®©ç±»çš„æ„é€ å‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡</li>
</ul>

<p>class è¿˜èƒ½ç»§æ‰¿åŸºäºåŸå‹çš„æ–¹å¼ã€‚å¦‚ä¸‹ï¼š</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">Rectangle</span><span class="p">(</span><span class="nx">length</span><span class="p">,</span> <span class="nx">width</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">length</span> <span class="o">=</span> <span class="nx">length</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="nx">width</span>
<span class="p">}</span>
<span class="nx">Rectangle</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getArea</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">length</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="nx">width</span>
<span class="p">}</span>
<span class="kd">class</span> <span class="nx">Square</span> <span class="kd">extends</span> <span class="nx">Rectangle</span> <span class="p">{</span>
    <span class="kd">constructor</span><span class="p">(</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">super</span><span class="p">(</span><span class="nx">length</span><span class="p">,</span> <span class="nx">length</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Rectangle å…·æœ‰ <code class="highlighter-rouge">[[Construct]]</code> å±æ€§å’ŒåŸå‹ï¼Œå› æ­¤ Square ç±»å¯ä»¥ç›´æ¥ç»§æ‰¿å®ƒã€‚</p>

<h4 id="å†…å»ºå¯¹è±¡çš„ç»§æ‰¿">å†…å»ºå¯¹è±¡çš„ç»§æ‰¿</h4>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">MyArray</span> <span class="kd">extends</span> <span class="nb">Array</span> <span class="p">{</span>
    <span class="c1">// ç©º</span>
<span class="p">}</span>
</code></pre></div></div>

<hr />

<h2 id="iterator-and-generator">Iterator and Generator</h2>

<p>ç¬¬ä¸€ä¸ªé—®é¢˜ï¼ŒIterator and Generator æ˜¯ä»€ä¹ˆï¼Ÿ
ç¬¬äºŒä¸ªé—®é¢˜ï¼ŒIterator and Generator è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿå³æ¥è‡ªä½•æ–¹ï¼Ÿ
ç¬¬ä¸‰ä¸ªé—®é¢˜ï¼ŒIterator and Generator æœªæ¥å¦‚ä½•ï¼Ÿ</p>

<p>æš‚æ—¶ï¼Œæˆ‘è¿˜æ²¡åŠæ³•å®Œæ•´è§£ç­”ã€‚</p>

<h3 id="æ˜¯ä»€ä¹ˆ">æ˜¯ä»€ä¹ˆï¼Ÿ</h3>

<p>Iterator æ˜¯ä¸€ä¸ªç‰¹æ®Šå¯¹è±¡ï¼Œä¸“é—¨ä¸ºè¿­ä»£è®¾è®¡çš„æ¥å£ï¼Œéƒ½æœ‰ä¸€ä¸ª <code class="highlighter-rouge">next()</code> æ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå±æ€§çš„ç»“æœå¯¹è±¡ï¼š</p>

<ul>
  <li><code class="highlighter-rouge">value</code> - ä¸‹ä¸€ä¸ªå°†è¦è¿”å›çš„å€¼</li>
  <li><code class="highlighter-rouge">done</code> - å¸ƒå°”ç±»å‹å€¼ï¼Œæ²¡æœ‰æ›´å¤šå¯è¿”å›çš„æ•°æ®æ—¶è¿”å› true</li>
</ul>

<p>Generator æ˜¯ä¸€ç§è¿”å›è¿­ä»£å™¨çš„å‡½æ•°ã€‚ç”Ÿæˆå™¨å’Œå…¶ä»–å‡½æ•°ä¸€æ ·ï¼Œåªä¸è¿‡è¿”å›çš„æ˜¯ä¸€ä¸ªè¿­ä»£å™¨ã€‚å…³é”®å­— <code class="highlighter-rouge">yield</code> ç”¨æ¥æŒ‡å®šè°ƒç”¨è¿­ä»£å™¨çš„ <code class="highlighter-rouge">next()</code> æ–¹æ³•æ—¶çš„è¿”å›å€¼åŠè¿”å›é¡ºåºã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="o">*</span><span class="nx">createIterator</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">yield</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">yield</span> <span class="mi">2</span><span class="p">;</span>
    <span class="k">yield</span> <span class="mi">3</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">let</span> <span class="nx">iterator</span> <span class="o">=</span> <span class="nx">createIterator</span><span class="p">();</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">iterator</span><span class="p">.</span><span class="nx">toString</span><span class="p">())</span> <span class="c1">// [object Generator]</span>
<span class="nx">iterator</span><span class="p">.</span><span class="nx">next</span><span class="p">().</span><span class="nx">value</span>  <span class="c1">//1</span>
<span class="nx">iterator</span><span class="p">.</span><span class="nx">next</span><span class="p">().</span><span class="nx">value</span>  <span class="c1">//2</span>
<span class="nx">iterator</span><span class="p">.</span><span class="nx">next</span><span class="p">().</span><span class="nx">value</span> <span class="c1">//3</span>
</code></pre></div></div>

<p>å…³é”®æ˜¯ï¼Œæ¯æ‰§è¡Œå®Œä¸€æ¡ <code class="highlighter-rouge">yield</code> è¯­å¥ä¹‹åå‡½æ•°ä¼šè‡ªåŠ¨åœæ­¢è¿è¡Œï¼Œç›´åˆ°å†æ¬¡è°ƒç”¨ <code class="highlighter-rouge">next()</code> æ–¹æ³•ã€‚è¿™æ ·ï¼Œå°±å¯ä»¥æ‰“æ–­å‡½æ•°çš„é¡ºåºæ‰§è¡Œã€‚</p>

<p><code class="highlighter-rouge">yield</code> çš„ç‰¹ç‚¹ã€‚</p>

<ul>
  <li>yield åªå¯åœ¨ Generator å†…éƒ¨ï¼ŒåµŒå¥—å‡½æ•°å†…éƒ¨ä¹Ÿä¼šå¯¼è‡´é”™è¯¯</li>
</ul>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="o">*</span><span class="nx">createIterator</span><span class="p">(</span><span class="nx">items</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">items</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">yield</span> <span class="nx">item</span> <span class="o">+</span> <span class="mi">1</span> <span class="c1">// è¯­æ³•é”™è¯¯</span>
    <span class="p">})</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Generator è¡¨è¾¾å¼å½¢å¼ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">createIterator</span> <span class="o">=</span> <span class="kd">function</span> <span class="o">*</span><span class="p">()</span> <span class="p">{</span>

<span class="p">}</span>
<span class="c1">//or</span>
<span class="kd">let</span> <span class="nx">createIterator</span> <span class="o">=</span> <span class="kd">function</span> <span class="o">*</span><span class="nx">createIterator2</span><span class="p">()</span> <span class="p">{</span>

<span class="p">}</span>
</code></pre></div></div>

<p>Generator æœ¬è´¨æ˜¯å‡½æ•°ï¼Œå› æ­¤å¯æ·»åŠ åˆ°å¯¹è±¡ä¸­ä½œä¸ºæ–¹æ³•ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//es5</span>
<span class="kd">let</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">createIterator</span><span class="p">:</span> <span class="kd">function</span> <span class="o">*</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">//</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="c1">//es6</span>
<span class="kd">let</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">*</span><span class="nx">createIterator</span><span class="p">()</span> <span class="p">{</span>

    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="å¯è¿­ä»£å¯¹è±¡">å¯è¿­ä»£å¯¹è±¡</h3>

<ul>
  <li>å¯è¿­ä»£å¯¹è±¡å…·æœ‰ <code class="highlighter-rouge">Symbol.iterator</code> å±æ€§</li>
  <li>æ‰€æœ‰çš„é›†åˆå¯¹è±¡(æ•°ç»„ã€Set é›†åˆåŠ Mapé›†åˆ)å’Œå­—ç¬¦ä¸²éƒ½æ˜¯å¯è¿­ä»£å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡æœ‰é»˜è®¤çš„è¿­ä»£å™¨ã€‚</li>
  <li>Generator é»˜è®¤ä¸º Symbol.iterator å±æ€§èµ‹å€¼ï¼Œæ‰€æœ‰é€šè¿‡ Generator åˆ›å»ºçš„è¿­ä»£å™¨éƒ½æ˜¯å¯è¿­ä»£å¯¹è±¡</li>
</ul>

<p>å¯è¿­ä»£å¯¹è±¡çš„ <code class="highlighter-rouge">for...of</code> å¾ªç¯</p>

<p>es6 å¯¹ forâ€¦of å¾ªç¯è¿›è¡Œäº†é‡æ–°è®¾è®¡ï¼Œæ¯æ‰§è¡Œä¸€æ¬¡è°ƒç”¨å¯è¿­ä»£å¯¹è±¡çš„ <code class="highlighter-rouge">next()</code> æ–¹æ³•ï¼Œå°†è¿”å›ç»“æœçš„ <code class="highlighter-rouge">value</code> å±æ€§å­˜å‚¨åœ¨ä¸€ä¸ªå˜é‡ä¸­ï¼Œå¾ªç¯æŒç»­è¿™ä¸€è¿‡ç¨‹ç›´åˆ°è¿”å›ç»“æœçš„ <code class="highlighter-rouge">done</code> å±æ€§çš„å€¼ä¸º <code class="highlighter-rouge">true</code>ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">values</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">item</span> <span class="k">of</span> <span class="nx">values</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//</span>
<span class="p">}</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">for...of</code> å¾ªç¯é€šè¿‡è°ƒç”¨ values çš„ <code class="highlighter-rouge">Symbol.iterator</code> æ–¹æ³•æ¥è·å–è¿­ä»£å™¨ã€‚</p>

<p><code class="highlighter-rouge">for...of</code> å¯ç”¨äºä¸å¯è¿­ä»£å¯¹è±¡ã€null å’Œ undefinedã€‚</p>

<p>é»˜è®¤è¿­ä»£å™¨ <code class="highlighter-rouge">Symbol.iterator</code> å±æ€§</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">values</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="kd">let</span> <span class="nx">iterator</span> <span class="o">=</span> <span class="nx">values</span><span class="p">[</span><span class="nb">Symbol</span><span class="p">.</span><span class="nx">iterator</span><span class="p">]()</span>  <span class="c1">// è¿­ä»£å™¨</span>
</code></pre></div></div>

<p>å› æ­¤å¯ä»¥ä½¿ç”¨ <code class="highlighter-rouge">Symbol.iterator</code> å±æ€§æ¥æ£€æµ‹<strong>å¯è¿­ä»£å¯¹è±¡</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">isIterable</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">typeof</span> <span class="nx">object</span><span class="p">[</span><span class="nb">Symbol</span><span class="p">.</span><span class="nx">iterator</span><span class="p">]</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">function</span><span class="dl">'</span>
<span class="p">}</span>
</code></pre></div></div>

<p>åˆ›å»ºå¯è¿­ä»£å¯¹è±¡ <code class="highlighter-rouge">Symbol.iterator</code> å±æ€§</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">collection</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">items</span><span class="p">:</span> <span class="p">[],</span>
    <span class="o">*</span><span class="p">[</span><span class="nb">Symbol</span><span class="p">.</span><span class="nx">iterator</span><span class="p">]()</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">item</span> <span class="k">of</span> <span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">yield</span> <span class="nx">item</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="nx">collection</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="nx">collection</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">x</span> <span class="k">of</span> <span class="nx">collection</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="å†…å»ºè¿­ä»£å™¨">å†…å»ºè¿­ä»£å™¨</h3>

<p>es6 ä¸­ä¸ºæ•°ç»„ã€Map å’Œ Set ä¸‰ç§é›†åˆå†…å»ºäº†ä¸‰ç§è¿­ä»£å™¨ã€‚</p>

<ul>
  <li>entries() - è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œå¤šä¸ªé”®å€¼å¯¹</li>
  <li>values() - è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œé›†åˆçš„å€¼</li>
  <li>keys() - è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œé›†åˆä¸­æ‰€æœ‰çš„é”®å</li>
</ul>

<p>å½“ä½¿ç”¨çš„ <code class="highlighter-rouge">for...of</code> æ—¶ï¼Œæ²¡æœ‰æ˜¾ç¤ºæŒ‡å®šåˆ™ä½¿ç”¨é»˜è®¤è¿­ä»£å™¨ã€‚æ•°ç»„å’Œ Set é›†åˆé»˜è®¤çš„è¿­ä»£å™¨æ˜¯ <code class="highlighter-rouge">values()</code> æ–¹æ³•ï¼ŒMap çš„é»˜è®¤è¿­ä»£å™¨æ˜¯ <code class="highlighter-rouge">entries()</code> æ–¹æ³•ã€‚</p>

<blockquote>
  <p>å½“ç›´æ¥ä½¿ç”¨ yield * â€˜helloâ€™ ä»£ç ï¼Œä¼šç›´æ¥ä½¿ç”¨å­—ç¬¦ä¸²çš„é»˜è®¤è¿­ä»£å™¨ã€‚</p>
</blockquote>

<h3 id="nodelist-è¿­ä»£å™¨">NodeList è¿­ä»£å™¨</h3>

<p>HTML æ ‡å‡†(ä¸æ˜¯ ECMAScript 6æ ‡å‡†)ä¹Ÿæ‹¥æœ‰é»˜è®¤è¿­ä»£å™¨ï¼Œå…¶é»˜è®¤è¿­ä»£å™¨å’Œæ•°ç»„çš„é»˜è®¤è¿­ä»£å™¨ä¸€è‡´ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒNodeList ä¹Ÿæ”¯æŒ forâ€¦of å¾ªç¯æ“ä½œã€‚</p>

<h3 id="spread-è¿ç®—ç¬¦çš„æœ¬è´¨">spread è¿ç®—ç¬¦çš„æœ¬è´¨</h3>

<p>spread å¯ä»¥å°† Set é›†åˆè½¬æ¢æˆä¸€ä¸ªæ•°ç»„ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="kd">set</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Set</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="kd">let</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[...</span><span class="kd">set</span><span class="p">]</span>
</code></pre></div></div>

<p>åœ¨è¿™é‡Œï¼Œspread æ‰©å±•ç¬¦å°±æ˜¯åˆ©ç”¨é»˜è®¤è¿­ä»£å™¨ï¼Œè¯»å– values å±æ€§ç„¶åä¾æ¬¡æ’å…¥åˆ°æ•°ç»„ä¸­ã€‚</p>

<p>å°†è¿™ç§æƒ³æ³•å¾€ Map é›†åˆæ‰©å±•ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Map</span><span class="p">([[</span><span class="dl">'</span><span class="s1">name</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">yuer</span><span class="dl">'</span><span class="p">],</span> <span class="p">[</span><span class="dl">'</span><span class="s1">sex</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">female</span><span class="dl">'</span><span class="p">]])</span>
<span class="kd">let</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[...[...</span><span class="nx">map</span><span class="p">]]</span> <span class="c1">//è½¬æ¢æˆä¸€ä¸ªäºŒç»´æ•°ç»„</span>
</code></pre></div></div>

<h3 id="è¿­ä»£å™¨çš„é«˜çº§åŠŸèƒ½">è¿­ä»£å™¨çš„é«˜çº§åŠŸèƒ½</h3>

<h4 id="ç»™-next-ä¼ é€’å‚æ•°ä½¿ç”¨-yield-æ¥ç”Ÿæˆå€¼">ç»™ next() ä¼ é€’å‚æ•°ï¼Œä½¿ç”¨ yield æ¥ç”Ÿæˆå€¼</h4>

<ul>
  <li>ç»™ next() ä¼ é€’å‚æ•° - ç»“æœï¼šè¿™ä¸ªå‚æ•°ä¼šæ›¿ä»£ Generator ç”Ÿæˆå™¨å†…éƒ¨ yield çš„è¿”å›å€¼ â€”&gt; å¯¹å¼‚æ­¥ç¼–ç¨‹è‡³å…³é‡è¦</li>
</ul>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="o">*</span><span class="nx">createIterator</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">first</span> <span class="o">=</span> <span class="k">yield</span> <span class="mi">1</span>
    <span class="kd">let</span> <span class="nx">second</span> <span class="o">=</span> <span class="k">yield</span> <span class="nx">first</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="k">yield</span> <span class="nx">second</span> <span class="o">+</span> <span class="mi">3</span>
<span class="p">}</span>
<span class="kd">let</span> <span class="nx">iterator</span> <span class="o">=</span> <span class="nx">createIterator</span><span class="p">()</span>

<span class="nx">iterator</span><span class="p">.</span><span class="nx">next</span><span class="p">()</span> <span class="c1">// {value: 1, done: false}</span>
<span class="nx">iterator</span><span class="p">.</span><span class="nx">next</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="c1">// {value: 6, done: false}</span>
<span class="nx">iterator</span><span class="p">.</span><span class="nx">next</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="c1">// {value: 8, done: false}</span>
<span class="nx">iterator</span><span class="p">.</span><span class="nx">next</span><span class="p">()</span>
</code></pre></div></div>

<p>æœ‰ä¸€ä¸ªä¾‹å¤–æ˜¯ï¼Œç¬¬ä¸€æ¬¡è°ƒç”¨ next() æ–¹æ³•æ—¶ï¼Œæ— è®ºä¼ å…¥ä»€ä¹ˆå‚æ•°éƒ½ä¼šè¢«ä¸¢å¼ƒã€‚</p>

<p>è¿™æ ·çš„ç»“æœæ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿè°ƒç”¨ç¬¬ä¸€ä¸ª <code class="highlighter-rouge">next()</code>ï¼Œæ‰§è¡Œçš„æ“ä½œæ˜¯ï¼š<code class="highlighter-rouge">yield 1</code> (å› ä¸ºé‡åˆ° yield å…³é”®å­—è¦æš‚åœ)ã€‚</p>

<p>è°ƒç”¨ç¬¬äºŒä¸ª <code class="highlighter-rouge">next(4)</code> æ‰§è¡Œçš„æ˜¯ <code class="highlighter-rouge">let first = </code> èµ‹å€¼æ“ä½œï¼Œç„¶åæš‚åœåˆ° <code class="highlighter-rouge">yield first + 2</code>ã€‚</p>

<p>è°ƒç”¨ç¬¬ä¸‰ä¸ª <code class="highlighter-rouge">next(5)</code> æ‰§è¡Œçš„æ˜¯ <code class="highlighter-rouge">let second =</code> èµ‹å€¼æ“ä½œï¼Œç„¶åç»“æŸåœ¨ <code class="highlighter-rouge">yield second + 3</code>ã€‚</p>

<h4 id="generator-return-è¯­å¥">Generator return è¯­å¥</h4>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="o">*</span><span class="nx">createIterator</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">yield</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">42</span><span class="p">;</span>
    <span class="k">yield</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">let</span> <span class="nx">iterator</span> <span class="o">=</span> <span class="nx">createIterator</span><span class="p">()</span>
<span class="nx">iterator</span><span class="p">.</span><span class="nx">next</span><span class="p">()</span> <span class="c1">//{ value: 1, done: false }</span>
<span class="nx">iterator</span><span class="p">.</span><span class="nx">next</span><span class="p">()</span> <span class="c1">//{ value: 42, done: true }</span>
<span class="nx">iterator</span><span class="p">.</span><span class="nx">next</span><span class="p">()</span> <span class="c1">//{ value: undefined, done: true }</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">return</code> å¯ä»¥æŒ‡å®šä¸€ä¸ªè¿”å›å€¼ï¼Œè¿™ä¸ªå€¼ä¼šä½œä¸º <code class="highlighter-rouge">value</code> å±æ€§è¿”å›ã€‚å…¶åçš„ä»£ç å°†ä¸ä¼šæ‰§è¡Œã€‚</p>

<h3 id="ç”Ÿæˆå™¨å§”æ‰˜">ç”Ÿæˆå™¨å§”æ‰˜</h3>

<p>å§”æ‰˜çš„æ¦‚å¿µå’Œå¥½ç†è§£ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="o">*</span><span class="nx">createNumberIterator</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">yield</span> <span class="mi">1</span>
    <span class="k">yield</span> <span class="mi">2</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="o">*</span><span class="nx">createColorIterator</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">yield</span> <span class="dl">'</span><span class="s1">red</span><span class="dl">'</span>
    <span class="k">yield</span> <span class="dl">'</span><span class="s1">green</span><span class="dl">'</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="o">*</span><span class="nx">createCombinedIterator</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">yield</span> <span class="o">*</span><span class="nx">createNumberIterator</span>
    <span class="k">yield</span> <span class="o">*</span><span class="nx">createColorIterator</span>
<span class="p">}</span>
<span class="kd">let</span> <span class="nx">iterator</span> <span class="o">=</span> <span class="nx">createCombinedIterator</span><span class="p">()</span>
<span class="nx">iterator</span><span class="p">.</span><span class="nx">next</span><span class="p">()</span> <span class="c1">//{value: 1, done: false}</span>
<span class="nx">iterator</span><span class="p">.</span><span class="nx">next</span><span class="p">()</span> <span class="c1">//{value: 2, done: false}</span>
<span class="nx">iterator</span><span class="p">.</span><span class="nx">next</span><span class="p">()</span> <span class="c1">//{value: 'red', done: false}</span>
<span class="nx">iterator</span><span class="p">.</span><span class="nx">next</span><span class="p">()</span> <span class="c1">//{value: 'green', done: false}</span>
<span class="nx">iterator</span><span class="p">.</span><span class="nx">next</span><span class="p">()</span> <span class="c1">//{value: undefined, done: true}</span>
</code></pre></div></div>

<h3 id="generator-çš„å¼‚æ­¥æ“ä½œ">Generator çš„å¼‚æ­¥æ“ä½œ</h3>

<hr />

<h2 id="æ¨¡å—">æ¨¡å—</h2>

<p>es6 å¯¹æ¨¡å—è¿›è¡Œäº†è§„èŒƒã€‚</p>

<h3 id="ä¸¤ä¸ªå…³é”®å­—">ä¸¤ä¸ªå…³é”®å­—</h3>

<p><code class="highlighter-rouge">export</code> - å‘å…¶ä»–æ¨¡å—æš´éœ²æ¥å£</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//æš´éœ²å˜é‡</span>
<span class="k">export</span> <span class="kd">let</span> <span class="nx">name</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">yuer</span><span class="dl">'</span>

<span class="c1">//æš´éœ²å‡½æ•°</span>
<span class="k">export</span> <span class="kd">function</span> <span class="nx">sum</span><span class="p">(</span><span class="nx">acc</span><span class="p">,</span> <span class="nx">val</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">acc</span> <span class="o">+</span> <span class="nx">val</span>
<span class="p">}</span>

<span class="c1">//æš´éœ² class</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nx">Rectangle</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//</span>
<span class="p">}</span>

<span class="c1">//å®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œç„¶åéšåæš´éœ²</span>
<span class="kd">function</span> <span class="nx">multiply</span><span class="p">(</span><span class="nx">num1</span><span class="p">,</span> <span class="nx">num2</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">num1</span> <span class="o">*</span> <span class="nx">num2</span>
<span class="p">}</span>
<span class="k">export</span> <span class="p">{</span> <span class="nx">multiply</span> <span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>æ— æ³•æš´éœ²åŒ¿åå‡½æ•°</li>
</ul>

<p><code class="highlighter-rouge">import</code> - å¯¼å…¥æ¨¡å—æ¥å£</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">identifier1</span><span class="p">,</span> <span class="nx">identifier2</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./xxx.js</span><span class="dl">'</span>
</code></pre></div></div>

<ul>
  <li>è¿™å’Œå¯¹è±¡è§£æ„ä¸æ˜¯ä¸€ç äº‹</li>
  <li>å°½é‡ä½¿ç”¨ <code class="highlighter-rouge">/</code>ã€<code class="highlighter-rouge">./</code>ã€<code class="highlighter-rouge">../</code>ï¼Œä¿è¯è·¨æµè§ˆå™¨å’Œ Node.js å…¼å®¹æ€§ã€‚ <code class="highlighter-rouge">/</code> - æ ¹ç›®å½•ï¼›<code class="highlighter-rouge">./</code> - å½“å‰ç›®å½•ï¼›â€™../â€™ - çˆ¶çº§ç›®å½•</li>
  <li>è¿™ç§ç»‘å®šç±»ä¼¼äº const å®šä¹‰å˜é‡ï¼Œidentifier1 å’Œ identifier2 æ— æ³•è¢«é‡æ–°å®šä¹‰ï¼Œä¹Ÿä¸å¯è¢«é‡æ–°èµ‹å€¼</li>
  <li><code class="highlighter-rouge">import</code> å’Œ <code class="highlighter-rouge">export</code> æ˜¯é™æ€çš„ï¼Œ<strong>ç‹¬ç«‹äºè¯­å¥å’Œå‡½æ•°ä¹‹å¤–</strong></li>
  <li><code class="highlighter-rouge">import</code> å»ºç«‹çš„æ˜¯å˜é‡ã€å‡½æ•°ã€ç±»ç­‰çš„<strong>åªè¯»</strong>ç»‘å®šã€‚</li>
  <li>åªæ‰§è¡Œä¸€æ¬¡</li>
</ul>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">sum</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./example.js</span><span class="dl">'</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">multiply</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./example.js</span><span class="dl">'</span>
</code></pre></div></div>

<p>â€™./example.jsâ€™ åªæ‰§è¡Œä¸€æ¬¡ã€‚</p>

<p>å¯¼å…¥æ‰€æœ‰ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">example</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./example.js</span><span class="dl">'</span>
</code></pre></div></div>

<h3 id="export-å’Œ-import-å¯¼å…¥æ¥å£çš„é‡å‘½å">export å’Œ import å¯¼å…¥æ¥å£çš„é‡å‘½å</h3>

<p><code class="highlighter-rouge">as</code> å…³é”®å­—</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">sum</span><span class="p">(</span><span class="nx">acc</span><span class="p">,</span> <span class="nx">val</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">acc</span> <span class="o">+</span> <span class="nx">val</span>
<span class="p">}</span>
<span class="k">export</span> <span class="p">{</span> <span class="nx">sum</span> <span class="k">as</span> <span class="nx">add</span> <span class="p">}</span>
</code></pre></div></div>

<p>åœ¨å¦ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œ<code class="highlighter-rouge">import</code> éœ€è¦åä¸€ä¸ªï¼š</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">add</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./example.js/</span><span class="dl">'</span>
</code></pre></div></div>

<p>åŒæ ·ï¼Œ<code class="highlighter-rouge">import</code> ä¹Ÿå¯ä½¿ç”¨ <code class="highlighter-rouge">as</code> å…³é”®å­—ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">add</span> <span class="k">as</span> <span class="nx">sum</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./example.js</span><span class="dl">'</span>
</code></pre></div></div>

<h3 id="export-default">export default</h3>

<p><code class="highlighter-rouge">default</code> å…³é”®å­—ç”¨æ¥ export é»˜è®¤çš„æ¥å£ã€‚ç”¨æ³•ï¼š</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 1</span>
<span class="k">export</span> <span class="k">default</span> <span class="kd">function</span><span class="p">(</span><span class="nx">acc</span><span class="p">,</span> <span class="nx">val</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">acc</span> <span class="o">+</span> <span class="nx">val</span>
<span class="p">}</span>
<span class="c1">// 2</span>
<span class="kd">function</span> <span class="nx">sum</span><span class="p">(</span><span class="nx">acc</span><span class="p">,</span> <span class="nx">val</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">acc</span> <span class="o">+</span> <span class="nx">val</span>
<span class="p">}</span>
<span class="k">export</span> <span class="k">default</span> <span class="nx">sum</span>
<span class="c1">// 3</span>
<span class="kd">function</span> <span class="nx">sum</span><span class="p">(</span><span class="nx">acc</span><span class="p">,</span> <span class="nx">val</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">acc</span> <span class="o">+</span> <span class="nx">val</span>
<span class="p">}</span>
<span class="k">export</span> <span class="p">{</span> <span class="nx">sum</span> <span class="k">as</span> <span class="k">default</span> <span class="p">}</span>
</code></pre></div></div>

<p>å¯¼å…¥é»˜è®¤æ¥å£ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">sum</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./example.js</span><span class="dl">'</span>
</code></pre></div></div>

<blockquote>
  <p>æ³¨æ„æ²¡æœ‰å¤§æ‹¬å·åŒ…è£¹ï¼Œsum æ˜¯é»˜è®¤ export æ¥å£çš„â€œå¼•ç”¨â€ã€‚</p>
</blockquote>

<h4 id="å¯¼å‡ºé»˜è®¤ç»‘å®šå’Œå¯¼å‡ºä¸€ä¸ªæˆ–å¤šä¸ªéé»˜è®¤ç»‘å®š">å¯¼å‡ºé»˜è®¤ç»‘å®šå’Œå¯¼å‡ºä¸€ä¸ªæˆ–å¤šä¸ªéé»˜è®¤ç»‘å®š</h4>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="kd">let</span> <span class="nx">name</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">yuer</span><span class="dl">'</span>
<span class="k">export</span> <span class="k">default</span> <span class="kd">function</span><span class="p">(</span><span class="nx">acc</span><span class="p">,</span> <span class="nx">val</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">acc</span> <span class="o">+</span> <span class="nx">val</span>
<span class="p">}</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">import</code> çš„ä»£ç </p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">sum</span><span class="p">,</span> <span class="p">{</span> <span class="nx">color</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./example.js</span><span class="dl">'</span>
</code></pre></div></div>

<h4 id="å†æ¬¡-export">å†æ¬¡ export</h4>

<p>åœ¨ä¸€ä¸ªæ¨¡å—ä¸­å¼•å…¥æ¥å£åï¼Œå¯ä»¥å†æ¬¡è¢« exportã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">sum</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./example.js</span><span class="dl">'</span>
<span class="k">export</span> <span class="p">{</span> <span class="nx">sum</span> <span class="p">}</span>
</code></pre></div></div>

<p>ä¸Šé¢è¿™ä¸¤ä¸ªè¯­å¥å¯å¹¶æˆä¸€å¥ï¼š</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="p">{</span> <span class="nx">sum</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./example.js</span><span class="dl">'</span>
</code></pre></div></div>

<h3 id="æ²¡æœ‰-export-çš„æ¥å£å¯¼å‡º">æ²¡æœ‰ export çš„æ¥å£å¯¼å‡º</h3>

<p>æœ‰ä¸€äº›æ–¹æ³•ï¼Œåœ¨å…¨å±€èŒƒå›´å†…å¯¹å¯¹è±¡åšä¸€äº›ä¿®æ”¹ã€‚æ¯”å¦‚ï¼Œä¸ºå†…å»ºå¯¹è±¡ <code class="highlighter-rouge">Array</code> å¢åŠ ä¸€ä¸ª <code class="highlighter-rouge">pushAll()</code> çš„æ–¹æ³•ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">pushAll</span> <span class="o">=</span> <span class="nx">functio9</span><span class="p">(</span><span class="nx">items</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">items</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nx">TypeError</span><span class="p">(</span><span class="dl">"</span><span class="s2">Argument must be an array.</span><span class="dl">"</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">push</span><span class="p">(...</span><span class="nx">items</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>è¿™æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ¨¡å—ã€‚å¯ä»¥ä½œä¸ºæ¨¡å—å’Œè„šæœ¬å¼•å…¥ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="dl">'</span><span class="s1">./example.js</span><span class="dl">'</span>

<span class="kd">let</span>  <span class="nx">colors</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">red</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">green</span><span class="dl">'</span><span class="p">]</span>
<span class="kd">let</span> <span class="nx">items</span> <span class="o">=</span> <span class="p">[]</span>
<span class="nx">items</span><span class="p">.</span><span class="nx">pushAll</span><span class="p">(</span><span class="nx">colors</span><span class="p">)</span>
</code></pre></div></div>

<blockquote>
  <p>è¿™ç§å¸¸è§äºåˆ›å»º polyfills æˆ– shims</p>
</blockquote>

<h3 id="æ¨¡å—å’Œè„šæœ¬çš„åŒºåˆ«">æ¨¡å—å’Œè„šæœ¬çš„åŒºåˆ«</h3>

<ul>
  <li>æ¨¡å—è‡ªåŠ¨è¿è¡Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œæ— æ³•é€ƒç¦»</li>
  <li>åœ¨æ¨¡å—é¡¶éƒ¨åˆ›å»ºçš„å˜é‡ä¸ä¼šè‡ªåŠ¨å…±äº«åˆ°å…¨å±€ï¼Œå­˜åœ¨äºæ¨¡å—çš„æœ€é«˜çº§ä½œç”¨åŸŸ</li>
  <li>æ¨¡å—é¡¶å±‚çš„ <code class="highlighter-rouge">this</code> å€¼æ˜¯ undefined</li>
  <li>ä¸å…è®¸ HTML æ ¼å¼çš„æ³¨é‡Š</li>
</ul>

:ET