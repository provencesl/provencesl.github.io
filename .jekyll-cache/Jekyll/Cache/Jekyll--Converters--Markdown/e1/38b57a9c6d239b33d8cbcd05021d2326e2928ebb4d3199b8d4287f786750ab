I"şW<ul id="markdown-toc">
  <li><a href="#å¸¸è§çš„å‘½ä»¤è¡Œæ“ä½œ" id="markdown-toc-å¸¸è§çš„å‘½ä»¤è¡Œæ“ä½œ">å¸¸è§çš„å‘½ä»¤è¡Œæ“ä½œ</a></li>
  <li><a href="#å®‰è£…nodejs" id="markdown-toc-å®‰è£…nodejs">å®‰è£…node.js</a></li>
  <li><a href="#npmä»‹ç»" id="markdown-toc-npmä»‹ç»">npmä»‹ç»</a>    <ul>
      <li><a href="#ç­”ç–‘è§£æƒ‘--packagejson" id="markdown-toc-ç­”ç–‘è§£æƒ‘--packagejson">ç­”ç–‘è§£æƒ‘ â€“ package.json</a></li>
      <li><a href="#ç­”ç–‘è§£æƒ‘--devdependenciesä¾èµ–-å’Œ-dependenciesä¾èµ–" id="markdown-toc-ç­”ç–‘è§£æƒ‘--devdependenciesä¾èµ–-å’Œ-dependenciesä¾èµ–">ç­”ç–‘è§£æƒ‘ â€“ devDependenciesä¾èµ– å’Œ dependenciesä¾èµ–</a></li>
    </ul>
  </li>
  <li><a href="#gulpçš„å®‰è£…å’Œè¿è¡Œ" id="markdown-toc-gulpçš„å®‰è£…å’Œè¿è¡Œ">gulpçš„å®‰è£…å’Œè¿è¡Œ</a>    <ul>
      <li><a href="#1å…¨å±€å®‰è£…gulp" id="markdown-toc-1å…¨å±€å®‰è£…gulp">1.å…¨å±€å®‰è£…<code class="highlighter-rouge">gulp</code></a></li>
      <li><a href="#2å¦‚æœä½ éœ€è¦ä½¿ç”¨gulpå‘½ä»¤è¡Œ" id="markdown-toc-2å¦‚æœä½ éœ€è¦ä½¿ç”¨gulpå‘½ä»¤è¡Œ">2.å¦‚æœä½ éœ€è¦ä½¿ç”¨<code class="highlighter-rouge">gulp</code>å‘½ä»¤è¡Œ</a></li>
      <li><a href="#3ä½œä¸ºé¡¹ç›®çš„å¼€å‘ä¾èµ–å®‰è£…devdependencieså®‰è£…åˆ°é¡¹ç›®æ‰€åœ¨ç›®å½•" id="markdown-toc-3ä½œä¸ºé¡¹ç›®çš„å¼€å‘ä¾èµ–å®‰è£…devdependencieså®‰è£…åˆ°é¡¹ç›®æ‰€åœ¨ç›®å½•">3.ä½œä¸ºé¡¹ç›®çš„å¼€å‘ä¾èµ–å®‰è£…(<code class="highlighter-rouge">devDependencies</code>)ï¼Œå®‰è£…åˆ°é¡¹ç›®æ‰€åœ¨ç›®å½•</a></li>
      <li><a href="#4åœ¨é¡¹ç›®æ‰€åœ¨ç›®å½•æ–°å»ºgulpfilejsæ–‡ä»¶" id="markdown-toc-4åœ¨é¡¹ç›®æ‰€åœ¨ç›®å½•æ–°å»ºgulpfilejsæ–‡ä»¶">4.åœ¨é¡¹ç›®æ‰€åœ¨ç›®å½•æ–°å»º<code class="highlighter-rouge">gulpfile.js</code>æ–‡ä»¶</a></li>
      <li><a href="#5-è¿è¡Œgulp" id="markdown-toc-5-è¿è¡Œgulp">5. è¿è¡Œgulp</a></li>
    </ul>
  </li>
  <li><a href="#å¸¸è§çš„gulpæ’ä»¶" id="markdown-toc-å¸¸è§çš„gulpæ’ä»¶">å¸¸è§çš„gulpæ’ä»¶</a></li>
  <li><a href="#gulp-sass--ç¼–è¯‘sassæ–‡ä»¶æˆcssæ–‡ä»¶" id="markdown-toc-gulp-sass--ç¼–è¯‘sassæ–‡ä»¶æˆcssæ–‡ä»¶">gulp-sass : ç¼–è¯‘sassæ–‡ä»¶æˆcssæ–‡ä»¶</a></li>
  <li><a href="#gulpçš„åº”ç”¨" id="markdown-toc-gulpçš„åº”ç”¨">gulpçš„åº”ç”¨</a>    <ul>
      <li><a href="#æˆ‘çš„ç¬¬ä¸€ä¸ªåº”ç”¨--autoprefixerç»™å¸¸è§„cssæ–‡ä»¶åŠ å‚å•†å‰ç¼€" id="markdown-toc-æˆ‘çš„ç¬¬ä¸€ä¸ªåº”ç”¨--autoprefixerç»™å¸¸è§„cssæ–‡ä»¶åŠ å‚å•†å‰ç¼€">æˆ‘çš„ç¬¬ä¸€ä¸ªåº”ç”¨ â€“ autoprefixerç»™å¸¸è§„cssæ–‡ä»¶åŠ å‚å•†å‰ç¼€</a>        <ul>
          <li><a href="#è¯¥é¡¹ç›®ç»“æ„å¦‚ä¸‹" id="markdown-toc-è¯¥é¡¹ç›®ç»“æ„å¦‚ä¸‹">è¯¥é¡¹ç›®ç»“æ„å¦‚ä¸‹</a></li>
          <li><a href="#æœ¬åœ°å®‰è£…gulp-autoprefixer" id="markdown-toc-æœ¬åœ°å®‰è£…gulp-autoprefixer">æœ¬åœ°å®‰è£…gulp-autoprefixer</a></li>
          <li><a href="#é…ç½®gufilejs" id="markdown-toc-é…ç½®gufilejs">é…ç½®gufile.js</a></li>
          <li><a href="#æ‰§è¡Œä»»åŠ¡" id="markdown-toc-æ‰§è¡Œä»»åŠ¡">æ‰§è¡Œä»»åŠ¡</a></li>
          <li><a href="#ç¦åˆ©" id="markdown-toc-ç¦åˆ©">ç¦åˆ©</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#gulpæœ‰å…³çš„é—®é¢˜" id="markdown-toc-gulpæœ‰å…³çš„é—®é¢˜">gulpæœ‰å…³çš„é—®é¢˜</a>    <ul>
      <li><a href="#ä¸ºå•¥æœ‰äº›è¦return-æœ‰äº›ä¸éœ€è¦" id="markdown-toc-ä¸ºå•¥æœ‰äº›è¦return-æœ‰äº›ä¸éœ€è¦">ä¸ºå•¥æœ‰äº›è¦return æœ‰äº›ä¸éœ€è¦</a></li>
    </ul>
  </li>
</ul>

<p><code class="highlighter-rouge">Gulp</code>æ˜¯ä¸€ä¸ªåŸºäº<code class="highlighter-rouge">Node.js</code>çš„æµå¼æ„å»ºå·¥å…·ã€‚å¯ä»¥ä½¿ç”¨å®ƒè¿›è¡Œé¡¹ç›®ç®¡ç†ï¼Œæ–¹ä¾¿åœ°æ‰§è¡Œä¸€äº›å¸¸è§çš„ä»»åŠ¡ã€‚ä¸‹é¢çš„æ–‡ç« æŒ‰ä»¥ä¸‹ä¸¤ç‚¹ç»„ç»‡ã€‚</p>

<ul>
  <li><code class="highlighter-rouge">gulp</code>çš„åŸºæœ¬çŸ¥è¯†</li>
  <li><code class="highlighter-rouge">gulp</code>æ‰§è¡Œçš„å¸¸è§ä»»åŠ¡</li>
</ul>

<p>é¦–å…ˆï¼Œè´´å‡ºä¸€äº›å¯ä¾›å‚è€ƒçš„ç½‘ç«™ï¼š</p>

<ul>
  <li><a href="http://gulpjs.com/"><code class="highlighter-rouge">gulp</code>å®˜ç½‘</a></li>
  <li><a href="https://github.com/gulpjs/gulp"><code class="highlighter-rouge">gulp</code>github åœ°å€</a></li>
  <li><a href="http://gulpjs.com/plugins/"><code class="highlighter-rouge">gulp</code>å®˜æ–¹æ’ä»¶åœ°å€</a></li>
  <li><a href="http://www.ydcss.com/archives/18#lesson6"><code class="highlighter-rouge">gulp</code>è¯¦ç»†å…¥é—¨æ•™ç¨‹</a></li>
</ul>

<p>ä½¿ç”¨<code class="highlighter-rouge">gulp</code>çš„åŸºæœ¬æ­¥éª¤æ˜¯ï¼š</p>

<p>å®‰è£…<code class="highlighter-rouge">node.js</code> -&gt; å…¨å±€å®‰è£…<code class="highlighter-rouge">gulp</code> -&gt; åœ¨é¡¹ç›®é‡Œå®‰è£…<code class="highlighter-rouge">gulp</code>å’Œ<code class="highlighter-rouge">gulp</code>æ’ä»¶ -&gt; é…ç½®<code class="highlighter-rouge">gulpfile.js</code>æ–‡ä»¶ -&gt; è¿è¡Œä»»åŠ¡</p>

<!-- more -->

<h2 id="å¸¸è§çš„å‘½ä»¤è¡Œæ“ä½œ">å¸¸è§çš„å‘½ä»¤è¡Œæ“ä½œ</h2>

<p>å…ˆåˆ—å‡ºä¸€äº›å¸¸è§çš„å‘½ä»¤è¡Œæ“ä½œï¼š</p>

<ul>
  <li><code class="highlighter-rouge">cd</code>: è¿›å…¥ç›®å½•</li>
  <li><code class="highlighter-rouge">dir</code>: åˆ—å‡ºæ–‡ä»¶åˆ—è¡¨</li>
  <li><code class="highlighter-rouge">cls</code>: æ¸…ç©ºå‘½ä»¤æç¤ºç¬¦çª—å£å†…å®¹</li>
  <li><code class="highlighter-rouge">touch æ–‡ä»¶å.æ–‡ä»¶ç±»å‹</code>: åœ¨å½“å‰æ–°å»ºä¸€ä¸ªæ–‡ä»¶</li>
  <li><code class="highlighter-rouge">tree</code>: åˆ—å‡ºå½“å‰ç›®å½•çš„ç›®å½•æ ‘</li>
</ul>

<h2 id="å®‰è£…nodejs">å®‰è£…node.js</h2>

<p>å› ä¸º<code class="highlighter-rouge">gulp</code>æ˜¯åŸºäº<code class="highlighter-rouge">node.js</code>ï¼Œæ‰€ä»¥éœ€è¦å…ˆå®‰è£…<code class="highlighter-rouge">node.js</code>ã€‚<a href="https://nodejs.org/en/">å®˜ç½‘ä¼ é€é—¨</a></p>

<p>å®‰è£…å®Œ<code class="highlighter-rouge">Node.js</code>ä¹‹åï¼Œ<code class="highlighter-rouge">Node.js</code>çš„åŒ…ç®¡ç†å·¥å…·<code class="highlighter-rouge">npm</code>ä¹Ÿåº”è¯¥å®‰è£…å¥½äº†ã€‚å¯ä»¥ç”¨ä»¥ä¸‹æ–¹æ³•æµ‹è¯•ä¸€ä¸‹ï¼š</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>node <span class="nt">-v</span>
npm <span class="nt">-v</span>
</code></pre></div></div>

<hr />

<h2 id="npmä»‹ç»">npmä»‹ç»</h2>

<p><code class="highlighter-rouge">npm</code>æ˜¯<code class="highlighter-rouge">node</code>åŒ…ç®¡ç†å·¥å…·ã€‚ç”¨å®ƒæ¥å®‰è£…æ’ä»¶çš„æ“ä½œæ˜¯ï¼š<code class="highlighter-rouge">npm install &lt;name&gt; [-g] [--save-dev]</code>:</p>

<ul>
  <li><code class="highlighter-rouge">-g</code>: å…¨å±€å®‰è£…ï¼Œè¿™ç§æ–¹å¼ä¼šå®‰è£…åœ¨æ‰€å±çš„ç³»ç»Ÿç›˜çš„<code class="highlighter-rouge">node-modules</code>ç›®å½•ä¸‹(<code class="highlighter-rouge">C:\Users\timi\AppData\Roaming\npm\node-modules</code>)ï¼Œå¹¶ä¸”å†™å…¥ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼Œè¿™æ ·çš„è¯ï¼Œå°±å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œåœ¨ä»»ä½•åœ°æ–¹è°ƒç”¨å®ƒã€‚ä¸ä½¿ç”¨<code class="highlighter-rouge">-g</code>è¿›è¡Œå…¨å±€å®‰è£…ï¼Œåˆ™è¯¥æ’ä»¶ä¼šå®‰è£…åœ¨å½“å‰ç›®å½•æ–°ç”Ÿæˆ<code class="highlighter-rouge">node-modules</code>æ–‡ä»¶å¤¹é‡Œã€‚</li>
  <li><code class="highlighter-rouge">--save</code>: è¿™æ¡å‘½ä»¤æ˜¯è¯´å°†é…ç½®ä¿å­˜è‡³<code class="highlighter-rouge">package.json</code></li>
  <li><code class="highlighter-rouge">-dev</code>: ä¿å­˜è‡³<code class="highlighter-rouge">package.json</code>çš„<code class="highlighter-rouge">devDependencies</code>èŠ‚ç‚¹ï¼Œä¸æŒ‡å®š<code class="highlighter-rouge">-dev</code>åˆ™å°†ä¿å­˜è‡³<code class="highlighter-rouge">dependencies</code>èŠ‚ç‚¹ã€‚</li>
</ul>

<h3 id="ç­”ç–‘è§£æƒ‘--packagejson">ç­”ç–‘è§£æƒ‘ â€“ package.json</h3>

<p>æ¯æ¬¡åˆå§‹åŒ–ä¸€ä¸ª<code class="highlighter-rouge">node</code>é¡¹ç›®ï¼Œæœ€å¥½éœ€è¦æ·»åŠ ä¸€ä¸ª<code class="highlighter-rouge">package.json</code>çš„é…ç½®æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶çš„ç›®çš„æœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>

<ul>
  <li>ç›¸å½“äºä¸€ä¸ªé¡¹ç›®è¯´æ˜</li>
  <li>å®šä¹‰é¡¹ç›®è¿è¡Œå’Œå¼€å‘æ‰€ä¾èµ–çš„å„ç§æ¨¡å—ä»¥åŠé…ç½®ä¿¡æ¯ï¼Œæ ¹æ®è¿™ä¸ªé…ç½®æ–‡ä»¶ï¼Œ<code class="highlighter-rouge">npm install</code>ä¼šè‡ªåŠ¨ä¸‹è½½æ‰€éœ€æ¨¡å—ï¼Œéå¸¸æ–¹ä¾¿åœ°é…ç½®é¡¹ç›®æ‰€éœ€çš„è¿è¡Œå’Œå¼€å‘ç¯å¢ƒ</li>
  <li>æ­£å› ä¸ºä¸Šé¢ç¬¬äºŒç‚¹ï¼Œæ‰€ä»¥æ›´ä¾¿äºé¡¹ç›®å…±äº«</li>
</ul>

<p>å¯ä»¥é€‰æ‹©<code class="highlighter-rouge">npm init</code>åˆå§‹åŒ–ä¸€ä¸ª<code class="highlighter-rouge">package.json</code>æ–‡ä»¶ï¼Œæˆ–è€…æ‰‹åŠ¨æ·»åŠ è¿™ä¸ªæ–‡ä»¶ï¼Œéƒ½æ˜¯æœ‰æ•ˆçš„ã€‚</p>

<p>ä½¿ç”¨<code class="highlighter-rouge">npm init</code>æ·»åŠ ä¸€ä¸ª<code class="highlighter-rouge">package.json</code>æ–‡ä»¶æ—¶ï¼Œä¼šæœ‰ä¸€ä¸ªå‘å¯¼æç¤ºæˆ‘ä»¬è¾“å…¥é¡¹ç›®åç§°ã€ç‰ˆæœ¬ä¿¡æ¯ç­‰å†…å®¹ï¼Œè¿™ä¹ˆå¤šçš„å±æ€§å¯ä»¥åœ¨<code class="highlighter-rouge">npm</code>çš„å‚è€ƒæ–‡æ¡£ä¸­æŸ¥é˜…ã€‚ä¼ é€é—¨ï¼š<a href="https://docs.npmjs.com/files/package.json">https://docs.npmjs.com/files/package.json</a></p>

<h3 id="ç­”ç–‘è§£æƒ‘--devdependenciesä¾èµ–-å’Œ-dependenciesä¾èµ–">ç­”ç–‘è§£æƒ‘ â€“ devDependenciesä¾èµ– å’Œ dependenciesä¾èµ–</h3>

<p><code class="highlighter-rouge">package.json</code>æ–‡æ¡£ä¸­æœ‰<code class="highlighter-rouge">devDependencies</code>å’Œ<code class="highlighter-rouge">dependencies</code>ä¸¤ä¸ªå±æ€§ã€‚è¿™ä¸¤ä¸ªå±æ€§çš„ä»‹ç»ä¹Ÿå¯ä»¥åœ¨<a href="https://docs.npmjs.com/files/package.json">https://docs.npmjs.com/files/package.json</a>é¡µé¢ä¸­æŸ¥åˆ°ï¼Œå®˜æ–¹è§£é‡Šå¥½éš¾æ‡‚å‘€ã€‚ä½†ç®€å•è§£é‡Šå°±æ˜¯ï¼šé¡¹ç›®è¿è¡Œè¿‡ç¨‹ä¸­ä¾èµ–çš„æ¨¡å—ï¼Œä½ å°±ä½¿ç”¨<code class="highlighter-rouge">dependencies</code>ä¾èµ–ï¼Œå¼€å‘è¿‡ç¨‹ä¸­ï¼Œæ¯”å¦‚æµ‹è¯•ï¼Œå‹ç¼©ï¼Œæ–‡æ¡£æ¡†æ¶è¿™äº›ä¸œè¥¿ï¼Œå°±ä½¿ç”¨<code class="highlighter-rouge">devDependencies</code>ä¾èµ–ã€‚å³ï¼Œæƒ³è¦ä½¿ç”¨<code class="highlighter-rouge">devDependencies</code>ä¾èµ–ï¼Œå®‰è£…çš„æ—¶å€™å°±åŠ ä¸Š<code class="highlighter-rouge">-dev</code>ã€‚</p>

<p>å½“ç„¶ï¼Œ<code class="highlighter-rouge">npm</code>è¿˜æœ‰å…¶ä»–æ“ä½œï¼š</p>

<ul>
  <li><code class="highlighter-rouge">npm uninstall &lt;name&gt; [-g] [--save-dev]</code>: åˆ é™¤æ’ä»¶</li>
  <li><code class="highlighter-rouge">npm update &lt;name&gt; [-g] [--save-dev]</code>: æ›´æ–°æ’ä»¶</li>
  <li><code class="highlighter-rouge">npm help</code>: æŸ¥çœ‹å¸®åŠ©</li>
  <li><code class="highlighter-rouge">npm list</code>: åˆ—å‡ºå½“å‰ç›®å½•å·²å®‰è£…æ’ä»¶</li>
</ul>

<p><code class="highlighter-rouge">npm</code>çš„ä¸€äº›å…¶ä»–å‘½ä»¤ï¼Œå¯å‚è€ƒ<a href="https://docs.npmjs.com/"><code class="highlighter-rouge">npm</code>å®˜æ–¹æ–‡æ¡£</a></p>

<hr />

<h2 id="gulpçš„å®‰è£…å’Œè¿è¡Œ">gulpçš„å®‰è£…å’Œè¿è¡Œ</h2>

<p>æ•²é»‘æ¿ï¼Œè®²é‡ç‚¹å•¦ã€‚</p>

<p><code class="highlighter-rouge">gulp</code>çš„<a href="http://gulpjs.com/">å®˜ç½‘</a>ç»™äº†ä¸‹é¢çš„ä¸€å¼ å›¾ç®€å•æ˜äº†åœ°è®²æ˜äº†å¦‚ä½•å®‰è£…<code class="highlighter-rouge">gulp</code>:</p>

<p><img src="/styles/images/gulp/gulp-install.png" alt="gulpå®‰è£…" /></p>

<p>ä½†æˆ‘ä»¬ä¸€èˆ¬éƒ½æ˜¯è¿™æ ·è¿›è¡Œçš„ï¼š</p>

<h4 id="1å…¨å±€å®‰è£…gulp">1.å…¨å±€å®‰è£…<code class="highlighter-rouge">gulp</code></h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ npm install --global gulp
</code></pre></div></div>

<h4 id="2å¦‚æœä½ éœ€è¦ä½¿ç”¨gulpå‘½ä»¤è¡Œ">2.å¦‚æœä½ éœ€è¦ä½¿ç”¨<code class="highlighter-rouge">gulp</code>å‘½ä»¤è¡Œ</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ npm install gulp-cli -g
</code></pre></div></div>

<blockquote>
  <p>ä»¥ä¸Šè¿™ä¸¤ç§å…¨å±€å®‰è£…çš„å†™æ³•éƒ½æ˜¯ä¸€æ ·çš„ã€‚</p>
</blockquote>

<h4 id="3ä½œä¸ºé¡¹ç›®çš„å¼€å‘ä¾èµ–å®‰è£…devdependencieså®‰è£…åˆ°é¡¹ç›®æ‰€åœ¨ç›®å½•">3.ä½œä¸ºé¡¹ç›®çš„å¼€å‘ä¾èµ–å®‰è£…(<code class="highlighter-rouge">devDependencies</code>)ï¼Œå®‰è£…åˆ°é¡¹ç›®æ‰€åœ¨ç›®å½•</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ npm install --save-dev gulp
</code></pre></div></div>

<h4 id="4åœ¨é¡¹ç›®æ‰€åœ¨ç›®å½•æ–°å»ºgulpfilejsæ–‡ä»¶">4.åœ¨é¡¹ç›®æ‰€åœ¨ç›®å½•æ–°å»º<code class="highlighter-rouge">gulpfile.js</code>æ–‡ä»¶</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ touch gulpfile.js
</code></pre></div></div>

<blockquote>
  <p>ä½ å½“ç„¶ä¹Ÿå¯ä»¥æ‰‹åŠ¨æ–°å»ºä¸€ä¸ª<code class="highlighter-rouge">gulpfile.js</code>æ–‡ä»¶ã€‚</p>
</blockquote>

<p>è¿™ä¸ªæ–‡ä»¶å¤§æ¦‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//å¯¼å…¥å·¥å…·åŒ… require('node_modulesé‡Œå¯¹åº”æ¨¡å—')</span>
<span class="kd">var</span> <span class="nx">gulp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">gulp</span><span class="dl">'</span><span class="p">),</span> <span class="c1">//æœ¬åœ°å®‰è£…gulpæ‰€ç”¨åˆ°çš„åœ°æ–¹</span>
    <span class="nx">less</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">gulp-less</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">//å®šä¹‰ä¸€ä¸ªtestLessä»»åŠ¡ï¼ˆè‡ªå®šä¹‰ä»»åŠ¡åç§°ï¼‰</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="dl">'</span><span class="s1">testLess</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="dl">'</span><span class="s1">src/less/index.less</span><span class="dl">'</span><span class="p">)</span> <span class="c1">//è¯¥ä»»åŠ¡é’ˆå¯¹çš„æ–‡ä»¶</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">less</span><span class="p">())</span> <span class="c1">//è¯¥ä»»åŠ¡è°ƒç”¨çš„æ¨¡å—</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="dl">'</span><span class="s1">src/css</span><span class="dl">'</span><span class="p">));</span> <span class="c1">//å°†ä¼šåœ¨src/cssä¸‹ç”Ÿæˆindex.css</span>
<span class="p">});</span>

<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="dl">'</span><span class="s1">default</span><span class="dl">'</span><span class="p">,[</span><span class="dl">'</span><span class="s1">testLess</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">elseTask</span><span class="dl">'</span><span class="p">]);</span> <span class="c1">//å®šä¹‰é»˜è®¤ä»»åŠ¡ elseTaskä¸ºå…¶ä»–ä»»åŠ¡ï¼Œè¯¥ç¤ºä¾‹æ²¡æœ‰å®šä¹‰elseTaskä»»åŠ¡</span>

<span class="c1">//gulp.task(name[, deps], fn) å®šä¹‰ä»»åŠ¡  nameï¼šä»»åŠ¡åç§° depsï¼šä¾èµ–ä»»åŠ¡åç§° fnï¼šå›è°ƒå‡½æ•°</span>
<span class="c1">//gulp.src(globs[, options]) æ‰§è¡Œä»»åŠ¡å¤„ç†çš„æ–‡ä»¶  globsï¼šå¤„ç†çš„æ–‡ä»¶è·¯å¾„(å­—ç¬¦ä¸²æˆ–è€…å­—ç¬¦ä¸²æ•°ç»„) </span>
<span class="c1">//gulp.dest(path[, options]) å¤„ç†å®Œåæ–‡ä»¶ç”Ÿæˆè·¯å¾„</span>
</code></pre></div></div>

<h4 id="5-è¿è¡Œgulp">5. è¿è¡Œgulp</h4>

<p>å¦‚æœæ‰§è¡Œç‰¹å®šä»»åŠ¡ï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ gulp ä»»åŠ¡åç§°
</code></pre></div></div>

<p>å¦‚æœæ‰§è¡Œ<code class="highlighter-rouge">default</code>ä»»åŠ¡ï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ gulp
</code></pre></div></div>

<p>åˆ™å°†ä¼š<code class="highlighter-rouge">default</code>ä»»åŠ¡ä¸­æ‰€æœ‰çš„ä»»åŠ¡ã€‚</p>

<p>å¦‚æœä½ æƒ³äº†è§£æ›´å¤šï¼Œå¯ä»¥è®¿é—®<code class="highlighter-rouge">gulp</code>çš„ä¸­æ–‡æ–‡æ¡£ï¼š<a href="http://www.gulpjs.com.cn/docs/">http://www.gulpjs.com.cn/docs/</a>æˆ–è€…ä»–ä»¬çš„<code class="highlighter-rouge">Github</code>ä»“åº“çš„<code class="highlighter-rouge">API</code>æ–‡æ¡£<a href="https://github.com/gulpjs/gulp/blob/master/docs/API.md">https://github.com/gulpjs/gulp/blob/master/docs/API.md</a>ã€‚</p>

<hr />

<h2 id="å¸¸è§çš„gulpæ’ä»¶">å¸¸è§çš„gulpæ’ä»¶</h2>

<p>è¯ä¸å¤šè¯´ã€‚</p>

<ul>
  <li>gulp-uglify : è§£æã€æœ€å°åŒ–ã€å‹ç¼©å’Œç¾åŒ–JavaScriptæ–‡ä»¶</li>
  <li>gulp-cssnano : å‹ç¼©css</li>
  <li>gulp-autoprefixer : è§£æcsså’Œæä¾›ä¾›åº”å•†å‰ç¼€</li>
  <li>gulp-htmlmin : å‹ç¼©HTML</li>
  <li>gulp-imagemin : å‹ç¼©å›¾ç‰‡</li>
  <li>gulp-concat : åˆå¹¶JavaScriptæ–‡ä»¶</li>
  <li>gulp-clean : åˆ é™¤æ–‡ä»¶å’Œæ–‡ä»¶å¤¹</li>
  <li>gulp-rename : é‡å‘½åæ–‡ä»¶</li>
  <li>gulp-if : åˆ¤æ–­è¯­å¥</li>
  <li>run-sequence : æ§åˆ¶é¡ºåºæ‰§è¡Œçš„ä»»åŠ¡</li>
  <li>gulp-sourcemaps</li>
  <li>browser-sync : æµè§ˆå™¨åŒæ­¥</li>
  <li>require-dir : å¯¹gulpfileè¿›è¡Œåˆ†æ–‡ä»¶å¤„ç†</li>
  <li>gulp-changed : ä»…ä»…è®©æ›´æ”¹è¿‡çš„æ–‡ä»¶ç»è¿‡ç®¡é“</li>
  <li>
    <h2 id="gulp-sass--ç¼–è¯‘sassæ–‡ä»¶æˆcssæ–‡ä»¶">gulp-sass : ç¼–è¯‘sassæ–‡ä»¶æˆcssæ–‡ä»¶</h2>
  </li>
</ul>

<h2 id="gulpçš„åº”ç”¨">gulpçš„åº”ç”¨</h2>

<h3 id="æˆ‘çš„ç¬¬ä¸€ä¸ªåº”ç”¨--autoprefixerç»™å¸¸è§„cssæ–‡ä»¶åŠ å‚å•†å‰ç¼€">æˆ‘çš„ç¬¬ä¸€ä¸ªåº”ç”¨ â€“ autoprefixerç»™å¸¸è§„cssæ–‡ä»¶åŠ å‚å•†å‰ç¼€</h3>

<p><code class="highlighter-rouge">autoprefixer</code>å¯ä»¥æ ¹æ®æµè§ˆå™¨ç‰ˆæœ¬è‡ªåŠ¨å¤„ç†æµè§ˆå™¨å‰ç¼€ï¼Œä½¿æˆ‘ä»¬å†™ä»£ç çš„æ—¶å€™å¯ä»¥ä¸è€ƒè™‘å„æµè§ˆå™¨å…¼å®¹é—®é¢˜ã€‚</p>

<p><code class="highlighter-rouge">autoprefixer</code>çš„<code class="highlighter-rouge">Github</code>åœ°å€æ˜¯ï¼š<a href="https://github.com/postcss/autoprefixer">https://github.com/postcss/autoprefixer</a></p>

<h4 id="è¯¥é¡¹ç›®ç»“æ„å¦‚ä¸‹">è¯¥é¡¹ç›®ç»“æ„å¦‚ä¸‹</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>â”‚  gulpfile.js
â”‚  index.html
â”‚  package.json
â”‚
â”œâ”€css
â”‚      style.css
â”‚
â”œâ”€dist
â”œâ”€node_modules
â””â”€scss
        style.scss
</code></pre></div></div>

<p>è§£é‡Šä»¥ä¸‹ï¼š<code class="highlighter-rouge">.scss</code>æ–‡ä»¶ç”±<code class="highlighter-rouge">Sass</code>é¢„å¤„ç†å™¨ç¼–å†™ï¼Œæ”¾åœ¨<code class="highlighter-rouge">scss</code>æ–‡ä»¶å¤¹ï¼Œè¿›è¿‡<code class="highlighter-rouge">Sass</code>ç¼–è¯‘è¿‡çš„<code class="highlighter-rouge">.css</code>æ–‡ä»¶è¢«æ”¾åœ¨<code class="highlighter-rouge">css</code>æ–‡ä»¶å¤¹ã€‚æˆ‘ä»¬çš„ç›®çš„å‘¢ï¼Œå°±æ˜¯ç»™<code class="highlighter-rouge">Sass</code>ç¼–è¯‘è¿‡çš„<code class="highlighter-rouge">style.css</code>æ–‡ä»¶æ·»åŠ å‚å•†å‰ç¼€ï¼Œç„¶åæ”¾åœ¨<code class="highlighter-rouge">dist</code>æ–‡ä»¶å¤¹ã€‚</p>

<h4 id="æœ¬åœ°å®‰è£…gulp-autoprefixer">æœ¬åœ°å®‰è£…gulp-autoprefixer</h4>

<p>è¿™ä¸ªæ’ä»¶å½“ç„¶ä¸æ˜¯æˆ‘ä»¬é¡¹ç›®è¿è¡Œè¿‡ç¨‹ä¸­éœ€è¦çš„æ¨¡å—ï¼Œæ‰€ä»¥ä½¿ç”¨<code class="highlighter-rouge">devDependencies</code>ä¾èµ–ã€‚</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ npm install gulp-autoprefixer --save-dev
</code></pre></div></div>

<h4 id="é…ç½®gufilejs">é…ç½®gufile.js</h4>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">gulp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">gulp</span><span class="dl">'</span><span class="p">),</span>
    <span class="nx">autoprefixer</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">gulp-autoprefixer</span><span class="dl">'</span><span class="p">);</span>

<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="dl">'</span><span class="s1">testAutoFx</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="dl">'</span><span class="s1">css/style.css</span><span class="dl">'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">autoprefixer</span><span class="p">({</span>
            <span class="na">browsers</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">last 2 versions</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">Android &gt;= 4.0</span><span class="dl">'</span><span class="p">],</span>
            <span class="na">cascade</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">//æ˜¯å¦ç¾åŒ–å±æ€§å€¼ é»˜è®¤ï¼štrue åƒè¿™æ ·ï¼š</span>
            <span class="c1">//-webkit-transform: rotate(45deg);</span>
            <span class="c1">//        transform: rotate(45deg);</span>
            <span class="na">remove</span><span class="p">:</span><span class="kc">true</span> <span class="c1">//æ˜¯å¦å»æ‰ä¸å¿…è¦çš„å‰ç¼€ é»˜è®¤ï¼štrue</span>
        <span class="p">}))</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="dl">'</span><span class="s1">dist/css</span><span class="dl">'</span><span class="p">));</span>
<span class="p">});</span>
</code></pre></div></div>

<p>å‡½æ•°<code class="highlighter-rouge">autoprefixer(options)</code>çš„é€‰é¡¹æœ‰<code class="highlighter-rouge">8</code>ã€‚å¯å‚è§<a href="https://github.com/postcss/autoprefixer#options">https://github.com/postcss/autoprefixer#options</a></p>

<h4 id="æ‰§è¡Œä»»åŠ¡">æ‰§è¡Œä»»åŠ¡</h4>

<p>æˆ‘ä»¬åœ¨å‘½ä»¤è¡Œæ‰§è¡Œï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ gulp testAutoFx
</code></pre></div></div>

<p>ç°åœ¨ï¼Œåœ¨<code class="highlighter-rouge">dist</code>æ–‡ä»¶ä¸­å¤šä¸ªä¸€ä¸ª<code class="highlighter-rouge">css</code>æ–‡ä»¶å¤¹ï¼Œ<code class="highlighter-rouge">css</code>æ–‡ä»¶å¤¹ä¸­æœ‰ä¸€ä¸ªæ·»åŠ äº†å‚å•†å‰ç¼€çš„<code class="highlighter-rouge">style.css</code>æ–‡ä»¶ï¼Œæ­£æ˜¯æˆ‘ä»¬éœ€è¦çš„ã€‚ç¾æ»‹æ»‹ğŸ˜„</p>

<h4 id="ç¦åˆ©">ç¦åˆ©</h4>

<p><code class="highlighter-rouge">autoprefixer</code>è¿˜æœ‰ä¸€ä¸ª<code class="highlighter-rouge">online</code>æœåŠ¡ï¼Œç½‘å€æ˜¯ï¼š<a href="https://autoprefixer.github.io/">https://autoprefixer.github.io/</a>ã€‚</p>

<hr />

<h2 id="gulpæœ‰å…³çš„é—®é¢˜">gulpæœ‰å…³çš„é—®é¢˜</h2>

<h3 id="ä¸ºå•¥æœ‰äº›è¦return-æœ‰äº›ä¸éœ€è¦">ä¸ºå•¥æœ‰äº›è¦return æœ‰äº›ä¸éœ€è¦</h3>

<blockquote>
  <p>å‚è€ƒ: <a href="https://github.com/gulpjs/gulp/blob/master/docs/recipes/running-tasks-in-series.md#running-tasks-in-series-ie-task-dependency">Running tasks in series</a> [Does a gulp task have to return anything?</p>
</blockquote>

<p>](https://stackoverflow.com/questions/26079118/does-a-gulp-task-have-to-return-anything) [Gulp.js task, return on src?</p>

<p>](https://stackoverflow.com/questions/21699146/gulp-js-task-return-on-src)</p>
:ET