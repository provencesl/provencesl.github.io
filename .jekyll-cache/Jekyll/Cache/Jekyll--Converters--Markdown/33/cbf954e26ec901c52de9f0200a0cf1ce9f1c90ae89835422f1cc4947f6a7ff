I"Ú7<ul id="markdown-toc">
  <li><a href="#ä¸€ç§å…¨æ’åˆ—çš„æ€è€ƒæ–¹æ³•" id="markdown-toc-ä¸€ç§å…¨æ’åˆ—çš„æ€è€ƒæ–¹æ³•">ä¸€ç§å…¨æ’åˆ—çš„æ€è€ƒæ–¹æ³•</a></li>
  <li><a href="#heaps-algorithm" id="markdown-toc-heaps-algorithm">Heapâ€™s Algorithm</a>    <ul>
      <li><a href="#ä¼ªä»£ç " id="markdown-toc-ä¼ªä»£ç ">ä¼ªä»£ç </a></li>
      <li><a href="#ç®—æ³•è¿‡ç¨‹" id="markdown-toc-ç®—æ³•è¿‡ç¨‹">ç®—æ³•è¿‡ç¨‹</a></li>
      <li><a href="#ç®—æ³•çš„javascriptå®ç°" id="markdown-toc-ç®—æ³•çš„javascriptå®ç°">ç®—æ³•çš„JavaScriptå®ç°</a></li>
    </ul>
  </li>
  <li><a href="#è¿˜æœ‰ä¸€ç§é€’å½’æ€è·¯çš„ç®—æ³•" id="markdown-toc-è¿˜æœ‰ä¸€ç§é€’å½’æ€è·¯çš„ç®—æ³•">è¿˜æœ‰ä¸€ç§é€’å½’æ€è·¯çš„ç®—æ³•</a></li>
</ul>

<p>å…¨æ’åˆ—æ˜¯ä¸€ä¸ªæ˜¯ä¸€ä¸ªå¸¸è§çš„é—®é¢˜ï¼Œå¯¹äºå­¦è¿‡ç®€å•æ•°å­¦çš„äººéƒ½çŸ¥é“ï¼Œæ²¡æœ‰é‡å¤å…ƒç´ çš„å…¨æ’åˆ—çš„ä¸ªæ•°æ˜¯<code class="highlighter-rouge">n! = n * (n-1) * ... * 2 * 1</code>ã€‚æ¯”å¦‚ï¼šæœ‰ä¸‰ä¸ªå…ƒç´ <code class="highlighter-rouge">[a,b,c]</code>ï¼Œå…¨æ’åˆ—çš„ç»“æœæ˜¯<code class="highlighter-rouge">[a,b,c] [b,a,c] [a,c,b] [c,a,b] [b,c,a] [c,b,a]</code>6ç§ã€‚</p>

<!-- more -->

<h2 id="ä¸€ç§å…¨æ’åˆ—çš„æ€è€ƒæ–¹æ³•">ä¸€ç§å…¨æ’åˆ—çš„æ€è€ƒæ–¹æ³•</h2>

<p>ä¸€ç§éµå¾ªå¤§è„‘çš„å…¨æ’åˆ—æ–¹æ³•æ˜¯ï¼šå‡è®¾æœ‰ä¸€ä¸ªç©ºé›†åˆï¼Œä¾æ¬¡æ’å…¥å„å…ƒç´ ï¼Œå¾—åˆ°æœ€ç»ˆç»“æœã€‚æ¯”å¦‚ï¼Œä»¥<code class="highlighter-rouge">[a,b,c]</code>ä¸‰ä¸ªå…ƒç´ ä¸ºä¾‹ï¼Œæœ‰ä¸€ä¸ªç©ºé›†åˆ<code class="highlighter-rouge">[?,?,?]</code>ï¼Œé¦–å…ˆæ’å…¥å…ƒç´ <code class="highlighter-rouge">a</code>ï¼Œå¾—åˆ°<code class="highlighter-rouge">[a]</code>ï¼Œç„¶åæ’å…¥å…ƒç´ <code class="highlighter-rouge">b</code>ï¼Œæœ‰ä¸¤ç§æƒ…å†µï¼Œåˆ†åˆ«æ˜¯æ’å…¥<code class="highlighter-rouge">[a]</code>ä¹‹å‰å¾—åˆ°<code class="highlighter-rouge">[b,a]</code>ï¼Œæ’å…¥<code class="highlighter-rouge">[a]</code>ä¹‹åå¾—åˆ°<code class="highlighter-rouge">[a,b]</code>ã€‚ä»¥æ­¤ç±»æ¨ã€‚ç¤ºæ„å›¾å¦‚ä¸‹å›¾ï¼š</p>

<p><img src="/styles/images/algorithms/a-method-of-full-arrangement.png" alt="a-method-of-full-arrangement" /></p>

<blockquote>
  <p>å›¾ç‰‡æ¥æºï¼š <a href="https://camo.githubusercontent.com/b03b14d937879d36804ead55a10d4d73712b9a96/68747470733a2f2f692e696d6775722e636f6d2f7a466d356752782e706e67">freecodecamp github</a></p>
</blockquote>

<p>ä½†æ˜¯è¿™ç§ç®—æ³•æœ‰ä¸€ç§å¼Šç«¯ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦å…¨æ’åˆ—çš„å…ƒç´ è¿‡å¤šï¼Œå°±éœ€è¦å¤šæ¬¡ç§»åŠ¨å…ƒç´ ï¼Œè¿™æ˜¯éå¸¸è´¹åŠ›çš„ä¸€ä»¶äº‹æƒ…ã€‚</p>

<hr />

<h2 id="heaps-algorithm">Heapâ€™s Algorithm</h2>

<p><code class="highlighter-rouge">Heap's Algorithm</code> æ˜¯B. R. Heapåœ¨1963æå‡ºçš„ä¸€ç§å…¨æ’åˆ—çš„ç®—æ³•ã€‚æ ¸å¿ƒæ€æƒ³å°±æ˜¯æ¯æ¬¡ä¿æŒ<code class="highlighter-rouge">n - 2</code>ä¸ªå…ƒç´ ä¸åŠ¨ï¼Œå¯¹å‰©ä½™çš„ä¸¤ä¸ªå…ƒç´ è¿›è¡Œäº¤æ¢ã€‚ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿæˆ‘ä»¬ä»¥<code class="highlighter-rouge">[a,b,c,d]</code>è¿™å››ä¸ªå…ƒç´ çš„å…¨æ’åˆ—ä¸ºä¾‹ï¼Œé¦–å…ˆï¼Œæˆ‘ä»¬å°†å…ƒç´ <code class="highlighter-rouge">d</code>ä½œä¸ºå›ºå®šå…ƒç´ æ‹¿å‡ºæ¥ï¼Œå¯¹<code class="highlighter-rouge">[a,b,c]</code>è¿›è¡Œå…¨æ’åˆ—ï¼Œè€Œå¯¹<code class="highlighter-rouge">[a,b,c]</code>è¿›è¡Œå…¨æ’åˆ—çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬åˆå°†<code class="highlighter-rouge">c</code>ä½œä¸ºå›ºå®šå…ƒç´ æ‹¿å‡ºæ¥ï¼Œå¯¹å…ƒç´ <code class="highlighter-rouge">a</code>ã€<code class="highlighter-rouge">b</code>è¿›è¡Œäº¤æ¢ï¼Œè¿™æ ·å°±å¾—åˆ°å…¨æ’åˆ—çš„ä¸¤ç§å¯èƒ½ã€‚åŒç†ï¼Œä¸‹ä¸€æ­¥æ˜¯æˆ‘ä»¬å°†<code class="highlighter-rouge">b</code>ä½œä¸ºå›ºå®šå…ƒç´ æ‹¿å‡ºæ¥ï¼Œå¯¹<code class="highlighter-rouge">a</code>ã€<code class="highlighter-rouge">c</code>è¿›è¡Œäº¤æ¢ã€‚ä¾æ¬¡ç±»æ¨ã€‚è¿™å¼ å›¾è¯¦ç»†åœ°å±•ç¤ºäº†è¿™ä¸€ç§ç®—æ³•æ€æƒ³ï¼Œ<a href="https://upload.wikimedia.org/wikipedia/commons/1/19/Heap_algorithm_with_4_elements.svg">è¯·å‚è€ƒ</a>ã€‚</p>

<h3 id="ä¼ªä»£ç ">ä¼ªä»£ç </h3>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>procedure generate(n : integer, A : array of any):
    if n = 1 then
          output(A)
    else
        for i := 0; i &lt; n - 1; i += 1 do
            generate(n - 1, A)
            if n is even then
                swap(A[i], A[n-1])
            else
                swap(A[0], A[n-1])
            end if
        end for
        generate(n - 1, A)
    end if
</code></pre></div></div>

<blockquote>
  <p>æ¥æºï¼š<a href="https://en.wikipedia.org/wiki/Heap%27s_algorithm">wikiç™¾ç§‘</a></p>
</blockquote>

<h3 id="ç®—æ³•è¿‡ç¨‹">ç®—æ³•è¿‡ç¨‹</h3>

<ol>
  <li>ä¿æŒç¬¬<code class="highlighter-rouge">n</code>ä¸ªå…ƒç´ ä¸åŠ¨ï¼Œå¯¹å‰<code class="highlighter-rouge">n-1</code>ä¸ªå…ƒç´ è¿›è¡Œå…¨æ’åˆ—ã€‚</li>
  <li>å¦‚æœ<code class="highlighter-rouge">n</code>æ˜¯å¥‡æ•°ï¼Œäº¤æ¢ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå…ƒç´ ï¼›å¦‚æœ<code class="highlighter-rouge">n</code>æ˜¯å¶æ•°ï¼Œäº¤æ¢ä½<code class="highlighter-rouge">i</code>ä¸ªå’Œæœ€åä¸€ä¸ªå…ƒç´ ã€‚é‡å¤ä¸Šè¯‰è¿‡ç¨‹ã€‚</li>
</ol>

<h3 id="ç®—æ³•çš„javascriptå®ç°">ç®—æ³•çš„JavaScriptå®ç°</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * Created by timi on 2017/5/8.
 */</span>

<span class="kd">function</span> <span class="nx">heapPermutation</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span><span class="nx">size</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">swap</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">index1</span><span class="p">,</span><span class="nx">index2</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">temp</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">index1</span><span class="p">];</span>
        <span class="nx">arr</span><span class="p">[</span><span class="nx">index1</span><span class="p">]</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">index2</span><span class="p">];</span>
        <span class="nx">arr</span><span class="p">[</span><span class="nx">index2</span><span class="p">]</span> <span class="o">=</span> <span class="nx">temp</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">size</span> <span class="o">===</span> <span class="mi">1</span><span class="p">){</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arr</span><span class="p">);</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">size</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
        <span class="nx">heapPermutation</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="nx">size</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="nx">n</span><span class="p">);</span>

        <span class="nx">swap</span><span class="p">(</span><span class="nx">size</span> <span class="o">%</span> <span class="mi">2</span> <span class="p">?</span> <span class="mi">0</span> <span class="p">:</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">size</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">b</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">c</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">d</span><span class="dl">'</span><span class="p">];</span>

<span class="nx">heapPermutation</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span><span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
</code></pre></div></div>

<p>ç¨‹åºè¾“å‡ºï¼š</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[ 'a', 'b', 'c', 'd' ]
[ 'b', 'a', 'c', 'd' ]
[ 'c', 'a', 'b', 'd' ]
[ 'a', 'c', 'b', 'd' ]
[ 'b', 'c', 'a', 'd' ]
[ 'c', 'b', 'a', 'd' ]
[ 'd', 'b', 'c', 'a' ]
[ 'b', 'd', 'c', 'a' ]
[ 'c', 'd', 'b', 'a' ]
[ 'd', 'c', 'b', 'a' ]
[ 'b', 'c', 'd', 'a' ]
[ 'c', 'b', 'd', 'a' ]
[ 'd', 'a', 'c', 'b' ]
[ 'a', 'd', 'c', 'b' ]
[ 'c', 'd', 'a', 'b' ]
[ 'd', 'c', 'a', 'b' ]
[ 'a', 'c', 'd', 'b' ]
[ 'c', 'a', 'd', 'b' ]
[ 'd', 'a', 'b', 'c' ]
[ 'a', 'd', 'b', 'c' ]
[ 'b', 'd', 'a', 'c' ]
[ 'd', 'b', 'a', 'c' ]
[ 'a', 'b', 'd', 'c' ]
[ 'b', 'a', 'd', 'c' ]
</code></pre></div></div>

<hr />

<h2 id="è¿˜æœ‰ä¸€ç§é€’å½’æ€è·¯çš„ç®—æ³•">è¿˜æœ‰ä¸€ç§é€’å½’æ€è·¯çš„ç®—æ³•</h2>

<p>è¿™ç§é€’å½’æƒ³æ³•æ˜¯å¦‚å›¾æ‰€ç¤ºï¼š</p>

<p><img src="/styles/images/algorithms/anther-method-of-full-arrangement.png" alt="recursion-tree-for-permutations" /></p>

<blockquote>
  <p>å›¾ç‰‡æ¥æºï¼š<a href="https://www.youtube.com/watch?v=KBHFyg2AcZ4">https://www.youtube.com/watch?v=KBHFyg2AcZ4</a> å…¶ä¸­ä¹Ÿæœ‰å¯¹è¯¥æ€æƒ³çš„ç†è§£ã€‚</p>
</blockquote>

<p>è¿™ç§æƒ³æ³•ä¹Ÿæ˜¯é€šè¿‡å›ºå®šä¸€ä¸ªå…ƒç´ ï¼Œè¿›è¡Œå‰©ä½™å…ƒç´ çš„äº¤æ¢ã€‚ç¼ºç‚¹æ˜¯ï¼Œæ¯æ¬¡äº¤æ¢è¿‡åéœ€è¦å†æ¬¡äº¤æ¢ä»¥å›åˆ°ä¸Šä¸€å±‚æ•°ç»„ã€‚</p>

<p>å½“ç„¶ï¼Œä¹Ÿç»™å‡ºè¿™ç§æ–¹æ³•çš„<code class="highlighter-rouge">JavaScript</code>ä»£ç ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">generate</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="nx">start</span><span class="p">,</span> <span class="nx">end</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">swap</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">start</span><span class="p">,</span><span class="nx">current</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">temp</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">start</span><span class="p">];</span>
        <span class="nx">arr</span><span class="p">[</span><span class="nx">start</span><span class="p">]</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">current</span><span class="p">];</span>
        <span class="nx">arr</span><span class="p">[</span><span class="nx">current</span><span class="p">]</span> <span class="o">=</span> <span class="nx">temp</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kd">var</span> <span class="nx">current</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">start</span> <span class="o">===</span> <span class="nx">end</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arr</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="nx">current</span> <span class="o">=</span> <span class="nx">start</span><span class="p">;</span> <span class="nx">current</span> <span class="o">&lt;</span> <span class="nx">end</span><span class="p">;</span> <span class="nx">current</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">swap</span><span class="p">(</span><span class="nx">start</span><span class="p">,</span><span class="nx">current</span><span class="p">)</span>
            <span class="nx">generate</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="nx">start</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
            <span class="nx">swap</span><span class="p">(</span><span class="nx">start</span><span class="p">,</span><span class="nx">current</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">b</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">c</span><span class="dl">'</span><span class="p">];</span>
<span class="nx">generate</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="mi">0</span> <span class="p">,</span><span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
</code></pre></div></div>

<p>ä¸ºäº†è·Ÿå›å½’æ ‘ç›¸å¯¹åº”ï¼Œæˆ‘ä»¬ç»™å‡ºä¸‰ä¸ªå…ƒç´ çš„å…¨æ’åˆ—ç»“æœã€‚è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[ 'a', 'b', 'c' ]
[ 'a', 'c', 'b' ]
[ 'b', 'a', 'c' ]
[ 'b', 'c', 'a' ]
[ 'c', 'b', 'a' ]
[ 'c', 'a', 'b' ]
</code></pre></div></div>

<blockquote>
  <p>æ›´å¤šå¯å‚è€ƒï¼š <a href="https://forum.freecodecamp.com/t/no-repeats-please-heaps-algorithm-and-frustration-with-recursions/15909">freecodecamp forum</a></p>
</blockquote>
:ET